<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="keywords" content="Hexo Theme Redefine">
    
    <meta name="author" content="jrl">
    <!-- preconnect -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    
    <!--- Seo Part-->
    
    <link rel="canonical" href="http://example.com/2023/07/15/mcu-study/"/>
    <meta name="robots" content="index,follow">
    <meta name="googlebot" content="index,follow">
    <meta name="revisit-after" content="1 days">
    
        <meta name="description" content="Contents [TOC] Part1–初识MCU一、Preparation1. Two applicationsKeil5（编写程序）    (1)从官网下载Keil5   (2)从License Magement中复制你的CID并将其输入keygen中激活      注意，以管理员身份运行程序，否则权限不够。  AND    在打开Keygen或者下载前，关闭防火墙，否则有一定概率误杀">
<meta property="og:type" content="article">
<meta property="og:title" content="MCU-Study">
<meta property="og:url" content="http://example.com/2023/07/15/MCU-Study/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="Contents [TOC] Part1–初识MCU一、Preparation1. Two applicationsKeil5（编写程序）    (1)从官网下载Keil5   (2)从License Magement中复制你的CID并将其输入keygen中激活      注意，以管理员身份运行程序，否则权限不够。  AND    在打开Keygen或者下载前，关闭防火墙，否则有一定概率误杀">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/image-20230718114300607.png">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/image-20230718114530122.png">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/image-20230718114934737.png">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/image-20230718115826337.png">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/image-20230718114336762.png">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/image-20230721233738490.png">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/image-20230721233805538.png">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/image-20230721233828196.png">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/image-20230721233855915.png">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/image-20230720113130356.png">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/image-20230720190656299.png">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/image-20230720190715829.png">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/image-20230720190347143.png">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/image-20230720191015968.png">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/image-20230721205122034.png">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/image-20230721234135751.png">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/image-20230721234150197.png">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/image-20230721234217106.png">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/image-20230721234242038.png">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/image-20230721234253284.png">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/image-20230721203329446.png">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/image-20230721234502390.png">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/image-20230721234514429.png">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/image-20230721230325802.png">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/image-20230721234524672.png">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/image-20230724152117265.png">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/image-20230722212835950.png">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/image-20230724152649697.png">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/image-20230725101851144.png">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/image-20230725102105193.png">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/capture-2023-07-29-21-08-14.jpg">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/image-20230722212835950.png">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/image-20230721234150197.png">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/capture-2023-07-30-16-43-46.jpg">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/image-20230805230332496.png">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/capture-2023-08-05-23-06-33.jpg">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/capture-2023-07-31-20-35-24.jpg">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/image-20230810110118401.png">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/capture-2023-07-31-20-39-55.jpg">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/capture-2023-07-31-20-42-20.jpg">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/image-20230825235013085.png">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/image-20230825235050273.png">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/image-20230826000937239.png">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/image-20230826001409202.png">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/image-20230826001941927.png">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/image-20230826002212222.png">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/image-20230826000309662.png">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/image-20230826000346162.png">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/capture-2023-08-26-22-41-12.jpg">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/image-20230826002348625.png">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/capture-2023-08-26-22-59-18.jpg">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/capture-2023-08-29-23-13-04.jpg">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/capture-2023-08-26-23-18-31.jpg">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/capture-2023-08-26-23-07-48.jpg">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/capture-2023-08-30-16-51-14.jpg">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/capture-2023-09-01-23-07-38.jpg">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/capture-2023-09-01-23-08-19.jpg">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/capture-2023-09-01-23-08-35.jpg">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/capture-2023-08-30-16-36-22.jpg">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/capture-2023-09-09-12-11-18.jpg">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/capture-2023-09-03-15-27-31.jpg">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/capture-2023-09-03-15-41-57.jpg">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/capture-2023-09-09-12-18-12.jpg">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/capture-2023-09-09-12-18-21.jpg">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/capture-2023-09-09-12-18-55.jpg">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/capture-2023-09-09-12-19-14.jpg">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/capture-2023-09-09-12-19-27.jpg">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/image-20230906193453149.png">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/capture-2023-09-03-20-28-19.jpg">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/capture-2023-09-04-10-47-41.jpg">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/image-20230924140145902.png">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/image-20230924140404107.png">
<meta property="og:image" content="http://example.com/2023/07/15/MCU-Study/image-20230924182658752.png">
<meta property="article:published_time" content="2023-07-15T13:33:22.000Z">
<meta property="article:modified_time" content="2023-10-03T07:45:47.881Z">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="MCU">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/2023/07/15/MCU-Study/image-20230718114300607.png">
    
    
    <!--- Icon Part-->
    <link rel="icon" type="image/png" href="/images/d51b6e276e6c429db8275af5916f6f1d!400x400.jpeg" sizes="192x192">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/d51b6e276e6c429db8275af5916f6f1d!400x400.jpeg">
    <meta name="theme-color" content="#005080">
    <link rel="shortcut icon" href="/images/d51b6e276e6c429db8275af5916f6f1d!400x400.jpeg">
    <!--- Page Info-->
    
    <title>
        
            MCU-Study -
        
        H&#39;s Blog
    </title>
    
<link rel="stylesheet" href="/css/style.css">

    
<link rel="stylesheet" href="/fonts/fonts.css">

    
<link rel="stylesheet" href="/fonts/Satoshi/satoshi.css">

    
<link rel="stylesheet" href="/fonts/Chillax/chillax.css">

    <!--- Font Part-->
    
    
    
    

    <!--- Inject Part-->
    
    <script id="hexo-configurations">
    let Global = window.Global || {};
    Global.hexo_config = {"hostname":"example.com","root":"/","language":"en","path":"search.json"};
    Global.theme_config = {"articles":{"style":{"font_size":"16px","line_height":1.5,"image_border_radius":"14px","image_alignment":"center","image_caption":false,"link_icon":true},"word_count":{"enable":true,"count":true,"min2read":true},"author_label":{"enable":true,"auto":true,"list":["Lv1","Lv2","Lv3","Lv4","Lv5","Lv6"]},"code_block":{"copy":true,"style":"mac","font":{"enable":false,"family":null,"url":null}},"toc":{"enable":true,"max_depth":3,"number":false,"expand":true,"init_open":true},"copyright":true,"lazyload":true,"recommendation":{"enable":false,"title":"推荐阅读","limit":3,"mobile_limit":2,"placeholder":"/images/wallhaven-wqery6-light.webp","skip_dirs":[]}},"colors":{"primary":"#005080","secondary":null},"global":{"fonts":{"chinese":{"enable":false,"family":null,"url":null},"english":{"enable":false,"family":null,"url":null}},"content_max_width":"1000px","sidebar_width":"210px","hover":{"shadow":true,"scale":true},"scroll_progress":{"bar":false,"percentage":true},"busuanzi_counter":{"enable":true,"site_pv":true,"site_uv":true,"post_pv":true},"pjax":true,"open_graph":true,"google_analytics":{"enable":false,"id":null}},"home_banner":{"enable":true,"style":"fixed","image":{"light":"/images/r.png","dark":"/images/l.png"},"title":"JRL777","subtitle":{"text":["You the freedom"],"hitokoto":{"enable":false,"api":"https://v1.hitokoto.cn"},"typing_speed":100,"backing_speed":80,"starting_delay":500,"backing_delay":1500,"loop":true,"smart_backspace":true},"text_color":{"light":"#660000","dark":"#d1d1b6"},"text_style":{"title_size":"2.8rem","subtitle_size":"1.5rem","line_height":1.2},"custom_font":{"enable":false,"family":null,"url":null},"social_links":{"enable":true,"links":{"github":"https://github.com/jrl777","instagram":null,"zhihu":null,"twitter":null,"email":"18994771096@163.com"}}},"plugins":{"feed":{"enable":false},"aplayer":{"enable":false,"type":"fixed","audios":[{"name":null,"artist":null,"url":null,"cover":null}]},"mermaid":{"enable":false,"version":"9.3.0"}},"version":"2.2.2","navbar":{"auto_hide":true,"color":{"left":"#f78736","right":"#367df7","transparency":35},"categories":{"Categories":{"icon":"fa-solid fa-folder","path":"/categories/"}},"links":{"Home":{"path":"/","icon":"fa-regular fa-house"},"Archives":{"path":"/archives","icon":"fa-regular fa-bars"},"Tags":{"path":"/tags","icon":"fa-regular fa-tags"},"Me":{"path":"/about","icon":"fa-regular fa-user"}},"search":{"enable":true,"preload":true}},"page_templates":{"friends_column":2,"tags_style":"blur"},"home":{"sidebar":{"enable":true,"position":"left","first_item":"menu","announcement":null,"links":null},"article_date_format":"auto","categories":{"enable":true,"limit":3},"tags":{"enable":true,"limit":3}},"footerStart":"2022/8/17 11:45:14"};
    Global.language_ago = {"second":"%s seconds ago","minute":"%s minutes ago","hour":"%s hours ago","day":"%s days ago","week":"%s weeks ago","month":"%s months ago","year":"%s years ago"};
    Global.data_config = {"masonry":false};
  </script>
    
    <!--- Fontawesome Part-->
    
<link rel="stylesheet" href="/fontawesome/fontawesome.min.css">

    
<link rel="stylesheet" href="/fontawesome/brands.min.css">

    
<link rel="stylesheet" href="/fontawesome/solid.min.css">

    
<link rel="stylesheet" href="/fontawesome/regular.min.css">

    
    
    
    
<meta name="generator" content="Hexo 6.3.0"><style>mjx-container[jax="SVG"] {
  direction: ltr;
}

mjx-container[jax="SVG"] > svg {
  overflow: visible;
}

mjx-container[jax="SVG"][display="true"] {
  display: block;
  text-align: center;
  margin: 1em 0;
}

mjx-container[jax="SVG"][justify="left"] {
  text-align: left;
}

mjx-container[jax="SVG"][justify="right"] {
  text-align: right;
}

g[data-mml-node="merror"] > g {
  fill: red;
  stroke: red;
}

g[data-mml-node="merror"] > rect[data-background] {
  fill: yellow;
  stroke: none;
}

g[data-mml-node="mtable"] > line[data-line] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > rect[data-frame] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > .mjx-dashed {
  stroke-dasharray: 140;
}

g[data-mml-node="mtable"] > .mjx-dotted {
  stroke-linecap: round;
  stroke-dasharray: 0,140;
}

g[data-mml-node="mtable"] > svg {
  overflow: visible;
}

[jax="SVG"] mjx-tool {
  display: inline-block;
  position: relative;
  width: 0;
  height: 0;
}

[jax="SVG"] mjx-tool > mjx-tip {
  position: absolute;
  top: 0;
  left: 0;
}

mjx-tool > mjx-tip {
  display: inline-block;
  padding: .2em;
  border: 1px solid #888;
  font-size: 70%;
  background-color: #F8F8F8;
  color: black;
  box-shadow: 2px 2px 5px #AAAAAA;
}

g[data-mml-node="maction"][data-toggle] {
  cursor: pointer;
}

mjx-status {
  display: block;
  position: fixed;
  left: 1em;
  bottom: 1em;
  min-width: 25%;
  padding: .2em .4em;
  border: 1px solid #888;
  font-size: 90%;
  background-color: #F8F8F8;
  color: black;
}

foreignObject[data-mjx-xml] {
  font-family: initial;
  line-height: normal;
  overflow: visible;
}

.MathJax path {
  stroke-width: 3;
}

mjx-container[display="true"] {
  overflow: auto hidden;
}

mjx-container[display="true"] + br {
  display: none;
}
</style><link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
</head>


<body>
<div class="progress-bar-container">
    

    
        <span class="pjax-progress-bar"></span>
        <span class="pjax-progress-icon">
            <i class="fa-solid fa-circle-notch fa-spin"></i>
        </span>
    
</div>


<main class="page-container">

    

    <div class="main-content-container">

        <div class="main-content-header">
            <header class="navbar-container">
    
    <div class="navbar-content">
        <div class="left">
            
            <a class="logo-title" href="/">
                
                H&#39;s Blog
                
            </a>
        </div>

        <div class="right">
            <!-- PC -->
            <div class="desktop">
                <ul class="navbar-list">
                    
                        
                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class="" 
                                    href="/"  >
                                    
                                        
                                            <i class="fa-regular fa-house"></i>
                                        
                                        HOME
                                    
                                </a>
                                <!-- Submenu -->
                                
                            </li>
                    
                        
                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class="" 
                                    href="/archives"  >
                                    
                                        
                                            <i class="fa-regular fa-bars"></i>
                                        
                                        ARCHIVES
                                    
                                </a>
                                <!-- Submenu -->
                                
                            </li>
                    
                        
                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class="" 
                                    href="/tags"  >
                                    
                                        
                                            <i class="fa-regular fa-tags"></i>
                                        
                                        TAGS
                                    
                                </a>
                                <!-- Submenu -->
                                
                            </li>
                    
                        
                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class="" 
                                    href="/about"  >
                                    
                                        
                                            <i class="fa-regular fa-user"></i>
                                        
                                        ME
                                    
                                </a>
                                <!-- Submenu -->
                                
                            </li>
                    
                    
                        <li class="navbar-item search search-popup-trigger">
                            <i class="fa-solid fa-magnifying-glass"></i>
                        </li>
                    
                </ul>
            </div>
            <!-- Mobile -->
            <div class="mobile">
                
                    <div class="icon-item search search-popup-trigger"><i class="fa-solid fa-magnifying-glass"></i></div>
                
                <div class="icon-item navbar-bar">
                    <div class="navbar-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Mobile drawer -->
    <div class="navbar-drawer">
        <ul class="drawer-navbar-list">
            
                
                    <li class="drawer-navbar-item flex-center">
                        <a class="" 
                        href="/"  >
                             
                                
                                    <i class="fa-regular fa-house"></i>
                                
                                HOME
                            
                        </a>
                    </li>
                    <!-- Submenu -->
                    
            
                
                    <li class="drawer-navbar-item flex-center">
                        <a class="" 
                        href="/archives"  >
                             
                                
                                    <i class="fa-regular fa-bars"></i>
                                
                                ARCHIVES
                            
                        </a>
                    </li>
                    <!-- Submenu -->
                    
            
                
                    <li class="drawer-navbar-item flex-center">
                        <a class="" 
                        href="/tags"  >
                             
                                
                                    <i class="fa-regular fa-tags"></i>
                                
                                TAGS
                            
                        </a>
                    </li>
                    <!-- Submenu -->
                    
            
                
                    <li class="drawer-navbar-item flex-center">
                        <a class="" 
                        href="/about"  >
                             
                                
                                    <i class="fa-regular fa-user"></i>
                                
                                ME
                            
                        </a>
                    </li>
                    <!-- Submenu -->
                    
            

        </ul>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="main-content-body">

            

            <div class="main-content">

                
                    <div class="fade-in-down-animation">
    <div class="post-page-container">
        <div class="article-content-container">

            <div class="article-title">
                
                  
                  
                    <img src="/images/wallhaven-4v833n.jpg" alt="MCU-Study" />
                  
                  <h1 class="article-title-cover">MCU-Study</h1>
                
              </div>
              
                     
            
            
                <div class="article-header">
                    <div class="avatar">
                        <img src="/images/d51b6e276e6c429db8275af5916f6f1d!400x400.jpeg">
                    </div>
                    <div class="info">
                        <div class="author">
                            <span class="name">jrl</span>
                            
                                <span class="author-label">Lv3</span>
                            
                        </div>
                        <div class="meta-info">
                            <div class="article-meta-info">
    <span class="article-date article-meta-item">
        <i class="fa-regular fa-pen-fancy"></i>&nbsp;
        <span class="desktop">2023-07-15 21:33:22</span>
        <span class="mobile">2023-07-15 21:33:22</span>
        <span class="hover-info">Created</span>
    </span>
    
        <span class="article-date article-meta-item">
            <i class="fa-regular fa-wrench"></i>&nbsp;
            <span class="desktop">2023-10-03 15:45:47</span>
            <span class="mobile">2023-10-03 15:45:47</span>
            <span class="hover-info">Updated</span>
        </span>
    

    
        <span class="article-categories article-meta-item">
            <i class="fa-regular fa-folders"></i>&nbsp;
            <ul>
                
                
                    
                        
                        <li>
                            <a href="/categories/MCU/">MCU</a>&nbsp;
                        </li>
                    
                    
                
            </ul>
        </span>
    
    
        <span class="article-tags article-meta-item">
            <i class="fa-regular fa-tags"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/tags/MCU/">MCU</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    

    
    
        <span class="article-wordcount article-meta-item">
            <i class="fa-regular fa-typewriter"></i>&nbsp;<span>6.7k Words</span>
        </span>
    
    
        <span class="article-min2read article-meta-item">
            <i class="fa-regular fa-clock"></i>&nbsp;<span>28 Mins</span>
        </span>
    
    
        <span class="article-pv article-meta-item">
            <i class="fa-regular fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span>
        </span>
    
</div>

                        </div>
                    </div>
                </div>
            

            <div class="article-content markdown-body">
                <p><strong>Contents</strong></p>
<p>[TOC]</p>
<h1 id="Part1–初识MCU"><a href="#Part1–初识MCU" class="headerlink" title="Part1–初识MCU"></a>Part1–初识MCU</h1><h2 id="一、Preparation"><a href="#一、Preparation" class="headerlink" title="一、Preparation"></a>一、Preparation</h2><h3 id="1-Two-applications"><a href="#1-Two-applications" class="headerlink" title="1. Two applications"></a>1. Two applications</h3><h4 id="Keil5（编写程序）"><a href="#Keil5（编写程序）" class="headerlink" title="Keil5（编写程序）"></a>Keil5（编写程序）</h4><img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/image-20230718114300607.png" class="" title="image-20230718114300607">



<p>(1)从官网下载Keil5</p>
<img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/image-20230718114530122.png" class="" title="image-20230718114530122">

<p>(2)从License Magement中复制你的CID并将其输入keygen中激活</p>
<img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/image-20230718114934737.png" class="" title="image-20230718114934737">

<table>
<thead>
<tr>
<th>注意，以管理员身份运行程序，否则权限不够。  AND    在打开Keygen或者下载前，关闭防火墙，否则有一定概率误杀</th>
</tr>
</thead>
</table>
<p>(3)点击Generate，完成激活</p>
<img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/image-20230718115826337.png" class="" title="image-20230718115826337">













<h4 id="Stc-isp（下载程序）"><a href="#Stc-isp（下载程序）" class="headerlink" title="Stc-isp（下载程序）"></a>Stc-isp（下载程序）</h4><p>这个自行搜索下载</p>
<img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/image-20230718114336762.png" class="" title="image-20230718114336762">

<p>在成功下载之后，一般来说无法直接读取或识别外接的C51，这个时候需要安装相应的driver：</p>
<img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/image-20230721233738490.png" class="" title="image-20230721233738490">





<p>这时候如果在任务管理器中能够能看到USB-SERIAL，说明驱动安装成功，C51已被读取。</p>
<img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/image-20230721233805538.png" class="" title="image-20230721233805538">







<p>x def phase5(n1, c1, n2, c2, n3, c3):    r = CRT([c1, c2, c3], [n1, n2, n3])    m = int(r)^(1/3)    print(hex(m)[2:])    n1 = 78642188663937191491235684351005990853149481644703243255021321296087539054265733392095095639539412823093600710316645130404423641473150336492175402885270861906530337207734106926328737198871118125840680572148601743121884788919989184318198417654263598170932154428514561079675550090698019678767738203477097731989c1 = 23419685303892339080979695469481275906709035609088426118328601771163101123641599051556995351678670765521269546319724616458499631461037359417701720430452076029312714313804716888119910334476982840024696320503747736428099717113471541651211596481005191146454458591558743268791485623924245960696651150688621664860n2 = 98174485544103863705821086588292917749386955237408645745685476234349659452606822650329076955303471252833860010724515777826660887118742978051231030080666542833950748806944312437614585352818344599399156268450521239843157288915059003487783576003027303399985723834248634230998110618288843582573006048070816520647c2 = 72080679612442543693944655041130370753964497034378634203383617624269927191363529233872659451561571441107920350406295389613006330637565645758727103723546610079332161151567096389071050158035757745766399510575237344950873632114050632573903701015749830874081198250578516967517980592506626547273178363503100507676n3 = 91638855323231795590642755267985988356764327384001022396221901964430032527111968159623063760057482761918901490239790230176524505469897183382928646349163030620342744192731246392941227433195249399795012672172947919435254998997253131826888070173526892674308708289629739522194864912899817994807268945141349669311c3 = 22149989692509889061584875630258740744292355239822482581889060656197919681655781672277545701325284646570773490123892626601106871432216449814891757715588851851459306683123591338089745675044763551335899599807235257516935037356212345033087798267959242561085752109746935300735969972249665700075907145744305255616​phase5(n1,c1,n2,c2,n3,c3)# 464c41477b325e3872736138633566336366663462633039353334396665633635666332323633653837387dpython</p>
<h2 id="二、About-MCU"><a href="#二、About-MCU" class="headerlink" title="二、About  MCU"></a>二、About  MCU</h2><h3 id="1-Brief-introduction"><a href="#1-Brief-introduction" class="headerlink" title="1. Brief introduction"></a>1. Brief introduction</h3><p>单片机，英文Micro ControIIer Unit ， 简称MCU</p>
<ol>
<li>内部集成了CPU 、RAM 、ROM 、定时器、中断系统、通讯接口等一系列电脑的常用硬件功能</li>
<li>单片机的任务是信息采集（ 依靠传感器） 、处理（ 依靠CPU) 和硬件设备（ 例如电机， LED 等） 的控制</li>
<li>单片机跟计算机相比， 单片机算是一个袖珍版计算机， 一个芯片就能构成完整的计算机系统。但在性能上， 与计算机相差甚远， 但单片机成本低、体积小、结构简单， 在生活和工业控制领域大有所用。同时， 学习使用单片机是了解计算机原理与结构的最佳选择</li>
</ol>
<p>51单片机：指80年代Intel开发的8051内核的单片机的统称。</p>
<img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/image-20230721233828196.png" class="" title="image-20230721233828196">



<img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/image-20230721233855915.png" class="" title="image-20230721233855915">

<p>*<code>类比电脑内存条</code>*：<strong>RAM</strong>（Random Access Memory，<strong>随机存取存储器</strong>）是计算机中的一种主要存储设备，用于临时存储和快速访问数据。它是计算机的一个重要组成部分，用于存储正在执行的程序和数据。</p>
<p>RAM与计算机的硬盘驱动器（或固态驱动器）不同，后者用于长期存储数据，而RAM是一种易失性存储器，意味着其存储的数据在断电或重新启动后会被清除。这是因为RAM是基于电子器件和电路构建的，需要持续的电源供应来保持存储的数据。</p>
<p>RAM被分为主存储器（Main Memory）和高速缓存（Cache Memory）。主存储器是计算机直接访问的存储区域，用于存储正在运行的程序和数据。它的存取速度比硬盘驱动器等次要存储设备要快得多。高速缓存是位于CPU内部的一种更快速的存储器，用于临时存储处理器频繁访问的数据，以提高计算机的性能。</p>
<p>RAM的容量通常以兆字节（MB）或千兆字节（GB）进行衡量。较大容量的RAM可以容纳更多的程序和数据，从而提供更好的性能和多任务处理能力。计算机的RAM容量可以根据需要进行扩展或升级。</p>
<p>总之，RAM是一种临时存储设备，用于存储正在执行的程序和数据，提供计算机的实时访问能力。它在计算机的性能和多任务处理方面起着重要的作用。</p>
<p>*<code>类比电脑硬盘</code>*：<strong>ROM</strong>（Read-Only Memory）是一种计算机芯片或存储设备中的一种存储器类型。与随机访问存储器（RAM）相比，ROM在断电后能够保持其存储的数据不变，因此也被称为非易失性存储器。ROM的数据一般是由制造厂商在生产过程中预先写入的，并且用户无法对其进行修改。这意味着ROM中存储的内容是只读的，无法被擦除或重写。</p>
<p>ROM有多种不同类型，包括：</p>
<ol>
<li>PROM（Programmable Read-Only Memory，可编程只读存储器）：这种ROM允许用户在一次性编程之前将数据写入其中。一旦编程完成，数据将永久固化在芯片中，不可更改。</li>
<li>EPROM（Erasable Programmable Read-Only Memory，可擦除可编程只读存储器）：这种ROM允许用户通过使用特定设备将其数据擦除，然后再次编程。擦除通常通过使用紫外线光线或电子擦除器来进行。</li>
<li>EEPROM（Electrically Erasable Programmable Read-Only Memory，电可擦除可编程只读存储器）：EEPROM与EPROM类似，但是擦除操作可以通过电源供电而不需要其他特殊设备。EEPROM的擦除和编程可以在特定的操作条件下进行。</li>
</ol>
<p>ROM的应用非常广泛，它被用于存储启动引导程序、固件、芯片内的固定数据以及其他一些需要在断电后保持不变的数据。有些游戏机、手机和电脑主板中也使用ROM存储固件或操作系统。总之，ROM在计算机和电子设备中起到了重要的作用，并且因其稳定性和数据不易丢失的特点而受到广泛使用。</p>
<h3 id="2-Application-field"><a href="#2-Application-field" class="headerlink" title="2. Application field"></a>2. Application field</h3><p>单片机的使用领域已十分广泛， 如智能仪表、实时工控、通讯设备、导航系统、家用电器等。各种产品一旦用上了单片机， 就能起到使<br>产品升级换代的功效， 常在产品名称前冠以形容词——“智能型”，如智能型洗衣机等。</p>
<h3 id="3-Naming-rules"><a href="#3-Naming-rules" class="headerlink" title="3. Naming rules"></a>3. Naming rules</h3><img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/image-20230720113130356.png" class="" title="image-20230720113130356">









<h3 id="4-Structure"><a href="#4-Structure" class="headerlink" title="4. Structure"></a>4. Structure</h3><p><strong>单片机内部结构图：</strong></p>
<img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/image-20230720190656299.png" class="" title="image-20230720190656299">





<img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/image-20230720190715829.png" class="" title="image-20230720190715829">







<p><strong>单片机管脚图</strong>：</p>
<img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/image-20230720190347143.png" class="" title="image-20230720190347143">

<p>例如 Vcc代表 + 极，Gnd代表 - 极</p>
<p><strong>单片机的最小系统：</strong></p>
<img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/image-20230720191015968.png" class="" title="image-20230720191015968">

<p>电容——过滤因为电源不稳定产生的电磁波</p>
<p>复位电路（中间的）——复位电路通常用来清除存储器中的数据、关闭所有开关和重置相关的逻辑电路。它可以在系统启动时，或在错误发生时，通过将相关电路重新初始化，确保系统处于可控状态。</p>
<p>晶振（左下角）——用于时钟电路和振荡电路中，以稳定电子设备的工作频率。晶振的主要原理是利用压电效应，在晶体振荡器中产生稳定的振荡信号。推动程序往下进行的关键。</p>
<h1 id="Part2–编写MCU"><a href="#Part2–编写MCU" class="headerlink" title="Part2–编写MCU"></a>Part2–编写MCU</h1><h2 id="一、Light-up-LED"><a href="#一、Light-up-LED" class="headerlink" title="一、Light up LED"></a>一、Light up LED</h2><img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/image-20230721205122034.png" class="" title="image-20230721205122034"> 

<p>LED，全称为Light Emitting Diode（发光二极管），是一种固体电子器件，可以将电能直接转化为光能。相对于传统的光源，如白炽灯和荧光灯，LED具有更高的能效、更长的使用寿命和更大的可靠性。</p>
<p>LED的工作原理是基于半导体材料的特性。当电流通过LED时，电子和空穴在半导体材料中重新组合，产生能量释放，从而产生可见光。不同半导体材料的能带结构决定了LED发出的光的颜色。</p>
<p>LED具有许多优点。首先，LED保存能量且效率高，相比传统光源，LED产生的光功率更大，但消耗的电能更少。其次，LED寿命长，通常可以达到数万个小时，远远超过传统光源。此外，LED具有快速开启和关闭的特性，并且可以根据需要调节亮度，因此被广泛应用于照明和显示领域。</p>
<p>LED在各个领域有广泛的应用。在照明领域，LED被用于家庭照明、商业照明和街道照明等。由于其高效节能的特性，LED也被用于太阳能照明和绿色建筑项目中。在电子显示领域，LED用于制造各种显示屏，如电视、计算机显示器和手机屏幕。此外，LED还常用于车辆照明、室内装饰、电子设备指示灯等。</p>
<h3 id="1-点亮一个LED"><a href="#1-点亮一个LED" class="headerlink" title="1. 点亮一个LED"></a>1. 点亮一个LED</h3><p>首先观察MCU里的LED模块</p>
<img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/image-20230721234135751.png" class="" title="image-20230721234135751">



<img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/image-20230721234150197.png" class="" title="image-20230721234150197">

<p>右边图片中的RP9、RP10是两个电阻                                                                          102=1k(10*10^2)元器件上的标号以此类推</p>
<img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/image-20230721234217106.png" class="" title="image-20230721234217106">

<p>P2口下的寄存器控制LED：       1–5V  不亮              0–0V  亮</p>
<hr>
<ol>
<li>创建一个Project，在列表里的Atmel下选择AT89C52</li>
</ol>
<img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/image-20230721234242038.png" class="" title="image-20230721234242038">



<img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/image-20230721234253284.png" class="" title="image-20230721234253284">







<ol start="2">
<li>在该文件夹下创建一个C的文件，以便进一步编写程序</li>
</ol>
<img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/image-20230721203329446.png" class="" title="image-20230721203329446">





<p> 3.编写控制LED的代码</p>
<div class="highlight-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;REGX52.H&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">{</span><br><span class="line">	P2=<span class="number">0xFE</span>;  </span><br><span class="line">}</span><br></pre></td></tr></table></figure></div>







<p>4.将文件保存为hex格式，以便烧入</p>
<img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/image-20230721234502390.png" class="" title="image-20230721234502390">







<p>5.用stc-isp将程序烧入进MCU中，尝试运行</p>
<p>选择相应的单片机型号与串口号，并打开已写好的程序文件</p>
<img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/image-20230721234514429.png" class="" title="image-20230721234514429">

<img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/image-20230721230325802.png" class="" title="image-20230721230325802">

<p>然后点击下载，重启单片机，发现成功点亮LED</p>
<img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/image-20230721234524672.png" class="" title="image-20230721234524672">















<h3 id="2-LED闪烁"><a href="#2-LED闪烁" class="headerlink" title="2. LED闪烁"></a>2. LED闪烁</h3><p>重复(1)中的操作步骤，新建一个Project</p>
<p>其实要完成闪烁只需要写一个while循环就可以了</p>
<div class="highlight-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;REGX52.H&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">{</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">	{</span><br><span class="line">		P2=<span class="number">0xFE</span>;</span><br><span class="line">		P2=<span class="number">0xFF</span>;</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></table></figure></div>

<p>但这个时候发现LED闪烁周期过快，肉眼无法观察到明显现象，这个时候需要加大周期，即加入延时函数。</p>
<div class="highlight-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;REGX52.H&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;INTRINS.H&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">Delay500ms</span><span class="params">()</span>		<span class="comment">//@12.000MHz</span></span><br><span class="line">{</span><br><span class="line">	<span class="type">unsigned</span> <span class="type">char</span> i, j, k;</span><br><span class="line"></span><br><span class="line">	_nop_();</span><br><span class="line">	i = <span class="number">4</span>;</span><br><span class="line">	j = <span class="number">205</span>;</span><br><span class="line">	k = <span class="number">187</span>;</span><br><span class="line">	<span class="keyword">do</span></span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">do</span></span><br><span class="line">		{</span><br><span class="line">			<span class="keyword">while</span> (--k);</span><br><span class="line">		} <span class="keyword">while</span> (--j);</span><br><span class="line">	} <span class="keyword">while</span> (--i);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">{</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">	{</span><br><span class="line">		P2=<span class="number">0xFE</span>;          <span class="comment">//0xAA    左右闪烁</span></span><br><span class="line">		Delay500ms();</span><br><span class="line">		P2=<span class="number">0xFF</span>;          <span class="comment">//0x55</span></span><br><span class="line">		Delay500ms();</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></table></figure></div>















<h3 id="3-LED流水灯"><a href="#3-LED流水灯" class="headerlink" title="3. LED流水灯"></a>3. LED流水灯</h3><p>有了“前车之鉴”，再写流水灯其实就很简单了，逻辑是一样的。</p>
<div class="highlight-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;REGX52.H&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;INTRINS.H&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">Delay250ms</span><span class="params">()</span>		<span class="comment">//@12.000MHz</span></span><br><span class="line">{</span><br><span class="line">	<span class="type">unsigned</span> <span class="type">char</span> i, j, k;</span><br><span class="line"></span><br><span class="line">	_nop_();</span><br><span class="line">	i = <span class="number">2</span>;</span><br><span class="line">	j = <span class="number">231</span>;</span><br><span class="line">	k = <span class="number">91</span>;</span><br><span class="line">	<span class="keyword">do</span></span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">do</span></span><br><span class="line">		{</span><br><span class="line">			<span class="keyword">while</span> (--k);</span><br><span class="line">		} <span class="keyword">while</span> (--j);</span><br><span class="line">	} <span class="keyword">while</span> (--i);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">{</span><br><span class="line">	<span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">	{</span><br><span class="line">		P2=<span class="number">0xFE</span>;          </span><br><span class="line">		Delay250ms();</span><br><span class="line">		P2=<span class="number">0xFD</span>;          </span><br><span class="line">		Delay250ms();</span><br><span class="line">		P2=<span class="number">0xFB</span>;</span><br><span class="line">		Delay250ms();</span><br><span class="line">		P2=<span class="number">0xF7</span>;</span><br><span class="line">		Delay250ms();</span><br><span class="line">		P2=<span class="number">0xEF</span>;</span><br><span class="line">		Delay250ms();</span><br><span class="line">		P2=<span class="number">0xDF</span>;</span><br><span class="line">		Delay250ms();</span><br><span class="line">		P2=<span class="number">0xBF</span>;</span><br><span class="line">		Delay250ms();</span><br><span class="line">		P2=<span class="number">0x7F</span>;</span><br><span class="line">		Delay250ms();</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>



<p><strong>Pro版本：</strong></p>
<div class="highlight-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;REGX52.H&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n=<span class="number">50</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">Delay1ms</span><span class="params">(<span class="type">unsigned</span> <span class="type">int</span> xms)</span>    <span class="comment">//@12.000MHz</span></span><br><span class="line">{</span><br><span class="line">	<span class="type">unsigned</span> <span class="type">char</span> i,j;</span><br><span class="line">	<span class="keyword">while</span>(xms)</span><br><span class="line">	{</span><br><span class="line">		i=<span class="number">2</span>;</span><br><span class="line">	  j=<span class="number">239</span>;</span><br><span class="line">		<span class="keyword">do</span></span><br><span class="line">		{</span><br><span class="line">			<span class="keyword">while</span>(--j);</span><br><span class="line">		} <span class="keyword">while</span>(--i);</span><br><span class="line">		xms--;</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">{</span><br><span class="line">	<span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">	{</span><br><span class="line">		P2=<span class="number">0xFE</span>;          </span><br><span class="line">		Delay1ms(n);</span><br><span class="line">		P2=<span class="number">0xFD</span>;          </span><br><span class="line">		Delay1ms(n);</span><br><span class="line">		P2=<span class="number">0xFB</span>;</span><br><span class="line">	    Delay1ms(n);</span><br><span class="line">		P2=<span class="number">0xF7</span>;</span><br><span class="line">		Delay1ms(n);</span><br><span class="line">		P2=<span class="number">0xEF</span>;</span><br><span class="line">		Delay1ms(n);</span><br><span class="line">		P2=<span class="number">0xDF</span>;</span><br><span class="line">		Delay1ms(n);</span><br><span class="line">		P2=<span class="number">0xBF</span>;</span><br><span class="line">		Delay1ms(n);</span><br><span class="line">		P2=<span class="number">0x7F</span>;</span><br><span class="line">		Delay1ms(n);</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>











<h2 id="二、Individual-key"><a href="#二、Individual-key" class="headerlink" title="二、Individual key"></a>二、Individual key</h2><img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/image-20230724152117265.png" class="" title="image-20230724152117265">

<p>C51上的独立按键：底座+金属弹片+   +</p>
<p>不按下时4个引脚两两连接，按下去时4个引脚同时连接</p>
<img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/image-20230722212835950.png" class="" title="image-20230722212835950">

<p><strong>独立按键：</strong></p>
<img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/image-20230724152649697.png" class="" title="image-20230724152649697">

<p>4个独立按键一端接 -极，另一端接I/O口（<strong>I/O口默认高电平</strong>）</p>
<p>寄存器检测I/O口电平</p>
<h3 id="1-独立按键控制LED亮灭"><a href="#1-独立按键控制LED亮灭" class="headerlink" title="1. 独立按键控制LED亮灭"></a>1. 独立按键控制LED亮灭</h3><p>sfr：整个8位的寄存器         </p>
<p> 寄存器中P2表示8位一体，不可单独控制单独位次</p>
<img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/image-20230725101851144.png" class="" title="image-20230725101851144">

<p>发现sbit可控制单独位次</p>
<img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/image-20230725102105193.png" class="" title="image-20230725102105193">







<div class="highlight-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;REGX52.H&gt;</span></span></span><br><span class="line"></span><br><span class="line"> <span class="type">void</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line"> {</span><br><span class="line">	<span class="comment">//P2=0xFE;</span></span><br><span class="line">		    	   </span><br><span class="line">	<span class="keyword">while</span>(<span class="number">1</span>)  <span class="comment">//单独控制P2的第0根管脚</span></span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">if</span>(P3_1==<span class="number">0</span>)</span><br><span class="line">		{</span><br><span class="line">			P2_0=<span class="number">0</span>;     <span class="comment">//读取K1口寄存器</span></span><br><span class="line">		}		</span><br><span class="line">		<span class="keyword">else</span>	</span><br><span class="line">		{</span><br><span class="line">			P2_0=<span class="number">1</span>;</span><br><span class="line">		}			</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line"> }</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>















<h3 id="2-独立按键控制LED状态"><a href="#2-独立按键控制LED状态" class="headerlink" title="2. 独立按键控制LED状态"></a>2. 独立按键控制LED状态</h3><img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/capture-2023-07-29-21-08-14.jpg" class="" title="capture-2023-07-29-21-08-14">





<div class="highlight-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;REGX52.H&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">Delay</span><span class="params">(<span class="type">unsigned</span> <span class="type">int</span> xms)</span>		<span class="comment">//@12.000MHz</span></span><br><span class="line">{</span><br><span class="line">	<span class="type">unsigned</span> <span class="type">char</span> i, j;</span><br><span class="line">	<span class="keyword">while</span>(xms)</span><br><span class="line">	{</span><br><span class="line">		i = <span class="number">2</span>;</span><br><span class="line">		j = <span class="number">239</span>;</span><br><span class="line">		<span class="keyword">do</span></span><br><span class="line">		{</span><br><span class="line">			<span class="keyword">while</span> (--j);</span><br><span class="line">		} <span class="keyword">while</span> (--i);</span><br><span class="line">		xms--;</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">{</span><br><span class="line">	<span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">if</span>(P3_1==<span class="number">0</span>)   <span class="comment">//检测按键是否按下，按下不操作，松手才开始操作（类比于电脑主表操作原理）</span></span><br><span class="line">		{</span><br><span class="line">			Delay(<span class="number">20</span>);  </span><br><span class="line">			<span class="keyword">while</span>(P3_1==<span class="number">0</span>);</span><br><span class="line">			Delay(<span class="number">20</span>);</span><br><span class="line">				</span><br><span class="line">			P2_0=~P2_0;  <span class="comment">//按位取反 P2_0只有一位，按位取反在0,1间变化</span></span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></div>













<h3 id="3-独立按键控制LED显示二进制"><a href="#3-独立按键控制LED显示二进制" class="headerlink" title="3. 独立按键控制LED显示二进制"></a>3. 独立按键控制LED显示二进制</h3><p>项目的创建以及准备工作就不再赘述</p>
<p>主要是利用 <strong>unsigned char</strong> 类型（0—255）与<strong>寄存器</strong>同样为8位的特性，来间接表示LED二进制</p>
<div class="highlight-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;REGX52.H&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">Delay</span><span class="params">(<span class="type">unsigned</span> <span class="type">int</span> xms)</span>		<span class="comment">//@12.000MHz</span></span><br><span class="line">{</span><br><span class="line">	<span class="type">unsigned</span> <span class="type">char</span> i, j;</span><br><span class="line">	<span class="keyword">while</span>(xms--)</span><br><span class="line">	{</span><br><span class="line">		i = <span class="number">12</span>;</span><br><span class="line">		j = <span class="number">169</span>;  </span><br><span class="line">		<span class="keyword">do</span></span><br><span class="line">		{</span><br><span class="line">			<span class="keyword">while</span> (--j);</span><br><span class="line">		} <span class="keyword">while</span> (--i);</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">{</span><br><span class="line">	<span class="type">unsigned</span> <span class="type">char</span> LEDNum=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">if</span>(P3_1==<span class="number">0</span>)</span><br><span class="line">		{</span><br><span class="line">			Delay(<span class="number">20</span>);</span><br><span class="line">			<span class="keyword">while</span>(P3_1==<span class="number">0</span>);</span><br><span class="line">			Delay(<span class="number">20</span>);	</span><br><span class="line">			LEDNum++;   <span class="comment">//P2++;不行</span></span><br><span class="line">			P2=~LEDNum;</span><br><span class="line">		}</span><br><span class="line">	}	</span><br><span class="line">}</span><br></pre></td></tr></table></figure></div>

<p>P2=1111 1111     //P2口默认高电平</p>
<p><strong>P2++</strong>  会使端口溢出，P2变成 0000 0000</p>
<p>再次取反P2将保持原样，即P2=1111 1111 ，表现为D1—D8全灭      </p>
<h3 id="4-独立按键控制LED移位"><a href="#4-独立按键控制LED移位" class="headerlink" title="4. 独立按键控制LED移位"></a>4. 独立按键控制LED移位</h3><img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/image-20230722212835950.png" class="" title="image-20230722212835950">

<p>项目预期：按下P3_1（左1），实现LED从左向右移位1</p>
<p>​                    按下P3_0（左2)，实现LED从右向左移位1                             </p>
<img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/image-20230721234150197.png" class="" title="image-20230721234150197">

<p>[^如图所示]: </p>
<img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/capture-2023-07-30-16-43-46.jpg" class="" title="capture-2023-07-30-16-43-46">

<p>实现移位的代码如下，主要使用C语言中的位运算：**&lt;&lt; 按位左移** 与 <strong>&gt;&gt;按位右移</strong></p>
<p>P3_1口闭合，左移</p>
<div class="highlight-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;REGX52.H&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">Delay</span><span class="params">(<span class="type">unsigned</span> <span class="type">int</span> xms)</span>;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> LEDNum=<span class="number">0</span>;  </span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">{</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">if</span>(P3_1==<span class="number">0</span>)</span><br><span class="line">		{</span><br><span class="line">			Delay(<span class="number">20</span>);</span><br><span class="line">			<span class="keyword">while</span>(P3_1==<span class="number">0</span>);</span><br><span class="line">			Delay(<span class="number">20</span>);</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">if</span>(LEDNum&gt;<span class="number">7</span>)</span><br><span class="line">			{</span><br><span class="line">				LEDNum=<span class="number">0</span>;</span><br><span class="line">			}</span><br><span class="line">			P2=~(<span class="number">0x01</span>&lt;&lt;LEDNum);    </span><br><span class="line">			LEDNum++;</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">Delay</span><span class="params">(<span class="type">unsigned</span> <span class="type">int</span> xms)</span>		<span class="comment">//@12.000MHz</span></span><br><span class="line">{</span><br><span class="line">	<span class="type">unsigned</span> <span class="type">char</span> i, j;</span><br><span class="line">	<span class="keyword">while</span>(xms--)</span><br><span class="line">	{</span><br><span class="line">		i = <span class="number">12</span>;</span><br><span class="line">		j = <span class="number">169</span>;  </span><br><span class="line">		<span class="keyword">do</span></span><br><span class="line">		{</span><br><span class="line">			<span class="keyword">while</span> (--j);</span><br><span class="line">		} <span class="keyword">while</span> (--i);</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>

<p>与左移逻辑一样，加上右移，完善代码，实现项目预期</p>
<div class="highlight-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;REGX52.H&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">Delay</span><span class="params">(<span class="type">unsigned</span> <span class="type">int</span> xms)</span>;   <span class="comment">//申明函数</span></span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> LEDNum=<span class="number">0</span>;   <span class="comment">//8位的全局变量</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">{</span><br><span class="line">	P2=~<span class="number">0x01</span>;        <span class="comment">//点亮D1</span></span><br><span class="line">	<span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">if</span>(P3_1==<span class="number">0</span>)    <span class="comment">//判断按键是否按下</span></span><br><span class="line">		{</span><br><span class="line">			Delay(<span class="number">20</span>);</span><br><span class="line">             <span class="comment">//检测按键状态，即手是否在按下按键后抬起。若未抬起，则按键处于闭合状态，执行while死循环，防止误触</span></span><br><span class="line">			<span class="keyword">while</span>(P3_1==<span class="number">0</span>);  </span><br><span class="line">			Delay(<span class="number">20</span>);</span><br><span class="line">			</span><br><span class="line">			LEDNum++;</span><br><span class="line">			<span class="keyword">if</span>(LEDNum&gt;=<span class="number">8</span>)</span><br><span class="line">			{</span><br><span class="line">				LEDNum=<span class="number">0</span>;</span><br><span class="line">			}</span><br><span class="line">			P2=~(<span class="number">0x01</span>&lt;&lt;LEDNum);</span><br><span class="line">		}</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(P3_0==<span class="number">0</span>)      <span class="comment">//判断按键是否按下</span></span><br><span class="line">		{</span><br><span class="line">			Delay(<span class="number">20</span>);</span><br><span class="line">			<span class="keyword">while</span>(P3_0==<span class="number">0</span>);</span><br><span class="line">			Delay(<span class="number">20</span>);</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">if</span>(LEDNum==<span class="number">0</span>)</span><br><span class="line">			{</span><br><span class="line">				LEDNum=<span class="number">7</span>;</span><br><span class="line">			}</span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">			{</span><br><span class="line">			LEDNum--;  <span class="comment">//自减，实现右移</span></span><br><span class="line">			}</span><br><span class="line">			P2=~(<span class="number">0x01</span>&lt;&lt;LEDNum);</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">//延时函数</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">Delay</span><span class="params">(<span class="type">unsigned</span> <span class="type">int</span> xms)</span>		<span class="comment">//@12.000MHz</span></span><br><span class="line">{</span><br><span class="line">	<span class="type">unsigned</span> <span class="type">char</span> i, j;</span><br><span class="line">	<span class="keyword">while</span>(xms--)</span><br><span class="line">	{</span><br><span class="line">		i = <span class="number">12</span>;</span><br><span class="line">		j = <span class="number">169</span>;  </span><br><span class="line">		<span class="keyword">do</span></span><br><span class="line">		{</span><br><span class="line">			<span class="keyword">while</span> (--j);</span><br><span class="line">		} <span class="keyword">while</span> (--i);</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>













<h2 id="三、Static-digitron-display"><a href="#三、Static-digitron-display" class="headerlink" title="三、Static digitron display"></a>三、Static digitron display</h2><p><strong>(1)数码管介绍</strong></p>
<img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/image-20230805230332496.png" class="" title="image-20230805230332496">

<p>控制数码管显示：</p>
<p>138译码器和数码管，两者共同作用下控制数码管的显示</p>
<img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/capture-2023-08-05-23-06-33.jpg" class="" title="capture-2023-08-05-23-06-33">



<p><strong>(2)数码管引脚定义：</strong></p>
<img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/capture-2023-07-31-20-35-24.jpg" class="" title="capture-2023-07-31-20-35-24">













<h3 id="1-静态数码管显示"><a href="#1-静态数码管显示" class="headerlink" title="1. 静态数码管显示"></a>1. 静态数码管显示</h3><p>目标是使数码管的第三位单独显示数字“6”</p>
<p><strong>步骤为：</strong></p>
<p>1.控制138译码器选中LED6（标号从右到左）     Y5—101</p>
<p>2.给予P0口段码数据，经过信号缓冲，再传输至公共段码端</p>
<img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/image-20230810110118401.png" class="" title="image-20230810110118401">





<p>总共有以下几种实现方式：</p>
<p>1.共阴极连接</p>
<img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/capture-2023-07-31-20-39-55.jpg" class="" title="capture-2023-07-31-20-39-55">

<p>2.共阳极连接：</p>
<img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/capture-2023-07-31-20-42-20.jpg" class="" title="capture-2023-07-31-20-42-20">









<p>代码如下：</p>
<div class="highlight-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//第三位数码(LED6)管显示“6”</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;REGX52.H&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">{	</span><br><span class="line">	P2_4=<span class="number">1</span>;    <span class="comment">// 101=5   LED6由Y5口控制，通过P_2,P_3,P_4口控制Y5输出低电平来点亮LED6</span></span><br><span class="line">	P2_3=<span class="number">0</span>;</span><br><span class="line">	P2_2=<span class="number">1</span>;</span><br><span class="line">	P0=<span class="number">0x7D</span>;</span><br><span class="line">	<span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">	{</span><br><span class="line">	</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></table></figure></div>





<p>完整的静态显示代码：</p>
<div class="highlight-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;REGX52.H&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> NixieTable[]={<span class="number">0x3F</span>,<span class="number">0x06</span>,<span class="number">0x5B</span>,<span class="number">0x4F</span>,<span class="number">0x66</span>,<span class="number">0x6D</span>,<span class="number">0x7D</span>,<span class="number">0x07</span>,<span class="number">0x7F</span>,<span class="number">0x6F</span>,<span class="number">0x77</span>,<span class="number">0x7C</span>,<span class="number">0x39</span>,<span class="number">0x5E</span>,<span class="number">0x79</span>,<span class="number">0x71</span>,<span class="number">0x00</span>};</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">Nixie</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> Location,Number)</span>; <span class="comment">//首先控制P2口选中LED1~8中之一，再给P0口断码数据，选择显示的数字</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">{	</span><br><span class="line">	Nixie(<span class="number">2</span>,<span class="number">3</span>);</span><br><span class="line">	<span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">	{</span><br><span class="line">		</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">Nixie</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> Location,Number)</span></span><br><span class="line">{</span><br><span class="line">	<span class="keyword">switch</span>(Location)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">case</span> <span class="number">1</span>:P2_4=<span class="number">1</span>;P2_3=<span class="number">1</span>;P2_2=<span class="number">1</span>;<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> <span class="number">2</span>:P2_4=<span class="number">1</span>;P2_3=<span class="number">1</span>;P2_2=<span class="number">0</span>;<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> <span class="number">3</span>:P2_4=<span class="number">1</span>;P2_3=<span class="number">0</span>;P2_2=<span class="number">1</span>;<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> <span class="number">4</span>:P2_4=<span class="number">1</span>;P2_3=<span class="number">0</span>;P2_2=<span class="number">0</span>;<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> <span class="number">5</span>:P2_4=<span class="number">0</span>;P2_3=<span class="number">1</span>;P2_2=<span class="number">1</span>;<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> <span class="number">6</span>:P2_4=<span class="number">0</span>;P2_3=<span class="number">1</span>;P2_2=<span class="number">0</span>;<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> <span class="number">7</span>:P2_4=<span class="number">0</span>;P2_3=<span class="number">0</span>;P2_2=<span class="number">1</span>;<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> <span class="number">8</span>:P2_4=<span class="number">0</span>;P2_3=<span class="number">0</span>;P2_2=<span class="number">0</span>;<span class="keyword">break</span>;</span><br><span class="line">		</span><br><span class="line">	}</span><br><span class="line">	P0=NixieTable[Number];</span><br><span class="line">}</span><br></pre></td></tr></table></figure></div>















<h3 id="2-动态数码管显示"><a href="#2-动态数码管显示" class="headerlink" title="2. 动态数码管显示"></a>2. 动态数码管显示</h3><p>利用辉光现象造成的人眼视觉残留，不断扫描数码管，来动态显示多位数字。</p>
<p>可看成静态数码管的快随迭代显示。</p>
<h4 id="控制原理"><a href="#控制原理" class="headerlink" title="控制原理"></a>控制原理</h4><img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/image-20230825235013085.png" class="" title="image-20230825235013085">

<p>LED1–8的一端直接连在138译码器的输出端</p>
<img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/image-20230825235050273.png" class="" title="image-20230825235050273">





<h5 id="1-138译码器："><a href="#1-138译码器：" class="headerlink" title="(1) 138译码器："></a>(1) <strong>138译码器</strong>：</h5><p>实际上就是用3个输入口控制8个输出口,以达到减少I/O口的目的，进而提高工作效率</p>
<img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/image-20230826000937239.png" class="" title="image-20230826000937239">

<p>P2_3口，P2_4 口，P2_5口，是”二进制“</p>
<img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/image-20230826001409202.png" class="" title="image-20230826001409202">







<h5 id="2-74HC245："><a href="#2-74HC245：" class="headerlink" title="(2) 74HC245："></a>(2) 74HC245：</h5><p>74HC245（双向数据缓冲器）其实是芯片，筛选弱信号通过芯片，过滤掉强信号</p>
<p>因为低电平的驱动能力强（LED在低电平驱动时远亮与被高电平驱动时）</p>
<img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/image-20230826001941927.png" class="" title="image-20230826001941927">



<p>排阻：</p>
<img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/image-20230826002212222.png" class="" title="image-20230826002212222">







<hr>
<h4 id="动态显示原理"><a href="#动态显示原理" class="headerlink" title="动态显示原理"></a>动态显示原理</h4><p>控制数码管单独静态显示：</p>
<img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/image-20230826000309662.png" class="" title="image-20230826000309662">

<p>动态数码管显示就是轮流“静态”显示，利用人的视觉残留从而实现动态效果</p>
<img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/image-20230826000346162.png" class="" title="image-20230826000346162">





<h4 id="消影"><a href="#消影" class="headerlink" title="消影"></a>消影</h4><p>即使能够利用视觉残留达成动态显示的效果，实际上依旧存在”窜位“问题</p>
<p>视觉上”1、2、3“，依旧在闪烁</p>
<p>这时就需要消影</p>
<img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/capture-2023-08-26-22-41-12.jpg" class="" title="capture-2023-08-26-22-41-12">











<h4 id="综述"><a href="#综述" class="headerlink" title="综述"></a>综述</h4><img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/image-20230826002348625.png" class="" title="image-20230826002348625">









<p>单片机直接扫描数码管：</p>
<div class="highlight-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;REGX52.H&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 段码表</span></span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> NixieTable[]={<span class="number">0x3F</span>,<span class="number">0x06</span>,<span class="number">0x5B</span>,<span class="number">0x4F</span>,<span class="number">0x66</span>,<span class="number">0x6D</span>,<span class="number">0x7D</span>,<span class="number">0x07</span>,<span class="number">0x7F</span>,<span class="number">0x6F</span>,<span class="number">0x77</span>,<span class="number">0x7C</span>,<span class="number">0x39</span>,<span class="number">0x5E</span>,<span class="number">0x79</span>,<span class="number">0x71</span>,<span class="number">0x00</span>};</span><br><span class="line"></span><br><span class="line"><span class="comment">// 动态数码管显示函数</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">Nixie</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> Location,Number)</span>; </span><br><span class="line"><span class="comment">// 延时函数</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">Delay</span><span class="params">(<span class="type">unsigned</span> <span class="type">int</span> xms)</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">{	</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">	{</span><br><span class="line">		Nixie(<span class="number">1</span>,<span class="number">1</span>);</span><br><span class="line">		<span class="comment">//Delay(0.002);</span></span><br><span class="line">		Nixie(<span class="number">2</span>,<span class="number">2</span>);</span><br><span class="line">		<span class="comment">//Delay(0.002);</span></span><br><span class="line">		Nixie(<span class="number">3</span>,<span class="number">3</span>);</span><br><span class="line">		<span class="comment">//Delay(0.002);</span></span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">Nixie</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> Location,Number)</span></span><br><span class="line">{</span><br><span class="line">	<span class="keyword">switch</span>(Location)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">case</span> <span class="number">1</span>:P2_4=<span class="number">1</span>;P2_3=<span class="number">1</span>;P2_2=<span class="number">1</span>;<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> <span class="number">2</span>:P2_4=<span class="number">1</span>;P2_3=<span class="number">1</span>;P2_2=<span class="number">0</span>;<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> <span class="number">3</span>:P2_4=<span class="number">1</span>;P2_3=<span class="number">0</span>;P2_2=<span class="number">1</span>;<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> <span class="number">4</span>:P2_4=<span class="number">1</span>;P2_3=<span class="number">0</span>;P2_2=<span class="number">0</span>;<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> <span class="number">5</span>:P2_4=<span class="number">0</span>;P2_3=<span class="number">1</span>;P2_2=<span class="number">1</span>;<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> <span class="number">6</span>:P2_4=<span class="number">0</span>;P2_3=<span class="number">1</span>;P2_2=<span class="number">0</span>;<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> <span class="number">7</span>:P2_4=<span class="number">0</span>;P2_3=<span class="number">0</span>;P2_2=<span class="number">1</span>;<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> <span class="number">8</span>:P2_4=<span class="number">0</span>;P2_3=<span class="number">0</span>;P2_2=<span class="number">0</span>;<span class="keyword">break</span>;</span><br><span class="line">		</span><br><span class="line">	}</span><br><span class="line">	P0=NixieTable[Number];</span><br><span class="line">	Delay(<span class="number">1</span>);</span><br><span class="line">	P0=<span class="number">0x00</span>;  <span class="comment">//消影，即在段选和位选之间加入清零操作   排除窜位影响，即使窜位也没关系</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">Delay</span><span class="params">(<span class="type">unsigned</span> <span class="type">int</span> xms)</span>		<span class="comment">//@12.000MHz</span></span><br><span class="line">{</span><br><span class="line">	<span class="type">unsigned</span> <span class="type">char</span> i, j;</span><br><span class="line">	<span class="keyword">while</span>(xms--)</span><br><span class="line">	{</span><br><span class="line">		i = <span class="number">2</span>;</span><br><span class="line">		j = <span class="number">239</span>;  </span><br><span class="line">		<span class="keyword">do</span></span><br><span class="line">		{</span><br><span class="line">			<span class="keyword">while</span> (--j);</span><br><span class="line">		} <span class="keyword">while</span> (--i);</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></div>



















<h2 id="四、模块化编程及LCD1602调试工具"><a href="#四、模块化编程及LCD1602调试工具" class="headerlink" title="四、模块化编程及LCD1602调试工具"></a>四、模块化编程及LCD1602调试工具</h2><h3 id="1-模块化编程"><a href="#1-模块化编程" class="headerlink" title="1.模块化编程"></a>1.模块化编程</h3><h4 id="1-介绍"><a href="#1-介绍" class="headerlink" title="(1) 介绍"></a>(1) 介绍</h4><p>模块化的编程可以提升效率，避免主函数显得冗长，使代码容易阅读。</p>
<img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/capture-2023-08-26-22-59-18.jpg" class="" title="capture-2023-08-26-22-59-18">







<h4 id="2-框图表示"><a href="#2-框图表示" class="headerlink" title="(2) 框图表示"></a>(2) 框图表示</h4><p>模块化编程即使就是一个<strong>预编译</strong>的过程，例如在C语言中经常使用的 </p>
<p> <mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.452ex;" xmlns="http://www.w3.org/2000/svg" width="25.792ex" height="2.149ex" role="img" focusable="false" viewBox="0 -750 11400 950"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="merror" data-mjx-error="You can't use 'macro parameter character #' in math mode" title="You can't use 'macro parameter character #' in math mode"><rect data-background="true" width="11400" height="950" y="-200"></rect><title>You can't use 'macro parameter character #' in math mode</title><g data-mml-node="mtext" style="font-family: serif;"><text data-variant="-explicitFont" transform="scale(1,-1)" font-size="884px"> #include&lt;stido.h&gt; </text></g></g></g></g></svg></mjx-container>头文件</p>
<p>实际上，就是把函数的定义与声明分开来，使接口和实现分离开来</p>
<img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/capture-2023-08-29-23-13-04.jpg" class="" title="capture-2023-08-29-23-13-04">







<h4 id="3-预编译"><a href="#3-预编译" class="headerlink" title="(3) 预编译"></a>(3) 预编译</h4><img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/capture-2023-08-26-23-18-31.jpg" class="" title="capture-2023-08-26-23-18-31">

<p>一般来说，预编译的实现如下：</p>
<p>有两个文件</p>
<p>一个是以<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="2.309ex" height="1.595ex" role="img" focusable="false" viewBox="0 -694 1020.7 705"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2E" d="M78 60Q78 84 95 102T138 120Q162 120 180 104T199 61Q199 36 182 18T139 0T96 17T78 60Z"></path></g><g data-mml-node="mi" transform="translate(444.7,0)"><path data-c="210E" d="M137 683Q138 683 209 688T282 694Q294 694 294 685Q294 674 258 534Q220 386 220 383Q220 381 227 388Q288 442 357 442Q411 442 444 415T478 336Q478 285 440 178T402 50Q403 36 407 31T422 26Q450 26 474 56T513 138Q516 149 519 151T535 153Q555 153 555 145Q555 144 551 130Q535 71 500 33Q466 -10 419 -10H414Q367 -10 346 17T325 74Q325 90 361 192T398 345Q398 404 354 404H349Q266 404 205 306L198 293L164 158Q132 28 127 16Q114 -11 83 -11Q69 -11 59 -2T48 16Q48 30 121 320L195 616Q195 629 188 632T149 637H128Q122 643 122 645T124 664Q129 683 137 683Z"></path></g></g></g></svg></mjx-container>结尾的头文件（用于声明函数）</p>
<p>还有一个是以<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.986ex" height="1.025ex" role="img" focusable="false" viewBox="0 -442 877.7 453"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><path data-c="2E" d="M78 60Q78 84 95 102T138 120Q162 120 180 104T199 61Q199 36 182 18T139 0T96 17T78 60Z"></path></g><g data-mml-node="mi" transform="translate(444.7,0)"><path data-c="1D450" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z"></path></g></g></g></svg></mjx-container>结尾的C语言文件（用于定义函数）</p>
<p>.h</p>
<div class="highlight-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 头文件声明Delay函数</span></span><br><span class="line"><span class="meta">#<span class="keyword">ifndef</span> __DELAY_H__    <span class="comment">// if not define </span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __DELAY_H__   <span class="comment">// define             #ifndef和#define的意义：防止重复包含，使函数只被定义一次，提高效率</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">Delay</span><span class="params">(<span class="type">unsigned</span> <span class="type">int</span> xms)</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure></div>

<p>.c</p>
<div class="highlight-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// C定义Delay函数</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">Delay</span><span class="params">(<span class="type">unsigned</span> <span class="type">int</span> xms)</span>		<span class="comment">//@12.000MHz</span></span><br><span class="line">{</span><br><span class="line">	<span class="type">unsigned</span> <span class="type">char</span> i, j;</span><br><span class="line">	<span class="keyword">while</span>(xms--)</span><br><span class="line">	{</span><br><span class="line">		i = <span class="number">2</span>;</span><br><span class="line">		j = <span class="number">239</span>;  </span><br><span class="line">		<span class="keyword">do</span></span><br><span class="line">		{</span><br><span class="line">			<span class="keyword">while</span> (--j);</span><br><span class="line">		} <span class="keyword">while</span> (--i);</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></table></figure></div>







<h4 id="4-注意事项"><a href="#4-注意事项" class="headerlink" title="(4) 注意事项"></a>(4) 注意事项</h4><img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/capture-2023-08-26-23-07-48.jpg" class="" title="capture-2023-08-26-23-07-48">

<p>例如：</p>
<p>调用的函数一定要声明，否则会报错</p>
<div class="highlight-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> __NIXIE_H__</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __NIXIE_H__</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">Nixie</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> Location,Number)</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure></div>

<div class="highlight-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;REGX52.H&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">"Delay.h"</span> <span class="comment">// 在数码管Nixie函数的定义中使用了Delay函数，那么在定义时必须引用"Delay.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> NixieTable[]={<span class="number">0x3F</span>,<span class="number">0x06</span>,<span class="number">0x5B</span>,<span class="number">0x4F</span>,<span class="number">0x66</span>,<span class="number">0x6D</span>,<span class="number">0x7D</span>,<span class="number">0x07</span>,<span class="number">0x7F</span>,<span class="number">0x6F</span>,<span class="number">0x77</span>,<span class="number">0x7C</span>,<span class="number">0x39</span>,<span class="number">0x5E</span>,<span class="number">0x79</span>,<span class="number">0x71</span>,<span class="number">0x00</span>};</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">Nixie</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> Location,Number)</span></span><br><span class="line">{</span><br><span class="line">	<span class="keyword">switch</span>(Location)</span><br><span class="line">	{</span><br><span class="line">		<span class="keyword">case</span> <span class="number">1</span>:P2_4=<span class="number">1</span>;P2_3=<span class="number">1</span>;P2_2=<span class="number">1</span>;<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> <span class="number">2</span>:P2_4=<span class="number">1</span>;P2_3=<span class="number">1</span>;P2_2=<span class="number">0</span>;<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> <span class="number">3</span>:P2_4=<span class="number">1</span>;P2_3=<span class="number">0</span>;P2_2=<span class="number">1</span>;<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> <span class="number">4</span>:P2_4=<span class="number">1</span>;P2_3=<span class="number">0</span>;P2_2=<span class="number">0</span>;<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> <span class="number">5</span>:P2_4=<span class="number">0</span>;P2_3=<span class="number">1</span>;P2_2=<span class="number">1</span>;<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> <span class="number">6</span>:P2_4=<span class="number">0</span>;P2_3=<span class="number">1</span>;P2_2=<span class="number">0</span>;<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> <span class="number">7</span>:P2_4=<span class="number">0</span>;P2_3=<span class="number">0</span>;P2_2=<span class="number">1</span>;<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> <span class="number">8</span>:P2_4=<span class="number">0</span>;P2_3=<span class="number">0</span>;P2_2=<span class="number">0</span>;<span class="keyword">break</span>;</span><br><span class="line">		</span><br><span class="line">	}</span><br><span class="line">	P0=NixieTable[Number];</span><br><span class="line">	Delay(<span class="number">1</span>);  </span><br><span class="line">	P0=<span class="number">0x00</span>;  <span class="comment">//消影，即在段选和位选之间加入清零操作   排除窜位影响，即使窜位也没关系</span></span><br><span class="line">}</span><br></pre></td></tr></table></figure></div>











<h3 id="2-LCD1602调试工具"><a href="#2-LCD1602调试工具" class="headerlink" title="2. LCD1602调试工具"></a>2. LCD1602调试工具</h3>

<p>在插入LCD显示屏后由于引脚的冲突，数码管将不再亮</p>


<div class="highlight-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;REGX52.H&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">"LCD1602.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">{</span><br><span class="line">	LCD_Init(); <span class="comment">//初始化</span></span><br><span class="line">	LCD_ShowChar(<span class="number">1</span>,<span class="number">1</span>,<span class="string">'A'</span>);     <span class="comment">//在几行几列显示单个字符</span></span><br><span class="line">	LCD_ShowString(<span class="number">1</span>,<span class="number">3</span>,<span class="string">"Hello"</span>);  <span class="comment">//显示字符串</span></span><br><span class="line">	LCD_ShowString(<span class="number">1</span>,<span class="number">9</span>,<span class="string">"ZZH"</span>);</span><br><span class="line">	</span><br><span class="line">	LCD_ShowNum(<span class="number">2</span>,<span class="number">1</span>,<span class="number">123</span>,<span class="number">3</span>);  <span class="comment">//显示3位    若显示4位，则为0123，2位为23</span></span><br><span class="line">	LCD_ShowSignedNum(<span class="number">2</span>,<span class="number">5</span>,<span class="number">-66</span>,<span class="number">2</span>);  <span class="comment">//符号位不算在内</span></span><br><span class="line">	<span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">	{</span><br><span class="line">	</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></table></figure></div>

<p>每秒加1</p>
<div class="highlight-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;REGX52.H&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">"LCD1602.h"</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">"Delay.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> a=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">{</span><br><span class="line">	LCD_Init(); <span class="comment">//初始化</span></span><br><span class="line">	<span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">	{</span><br><span class="line">		a++;</span><br><span class="line">		Delay(<span class="number">1000</span>);</span><br><span class="line">		LCD_ShowNum(<span class="number">1</span>,<span class="number">1</span>,a,<span class="number">3</span>);  <span class="comment">//每秒+1</span></span><br><span class="line">	}</span><br><span class="line">	</span><br><span class="line">}</span><br></pre></td></tr></table></figure></div>



















<h2 id="五、-矩阵键盘"><a href="#五、-矩阵键盘" class="headerlink" title="五、 矩阵键盘"></a>五、 矩阵键盘</h2><h3 id="1-MatrixKey简介"><a href="#1-MatrixKey简介" class="headerlink" title="1. MatrixKey简介"></a>1. MatrixKey简介</h3>





<h4 id="1-矩阵按键"><a href="#1-矩阵按键" class="headerlink" title="(1) 矩阵按键"></a>(1) 矩阵按键</h4><img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/capture-2023-08-30-16-51-14.jpg" class="" title="capture-2023-08-30-16-51-14">

<p>这种矩阵按键能很好的节省I/O口，提升工作效率。</p>
<h5 id="工作方式"><a href="#工作方式" class="headerlink" title="工作方式"></a>工作方式</h5><img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/capture-2023-09-01-23-07-38.jpg" class="" title="capture-2023-09-01-23-07-38">

<p>若有多行/列会无法判断</p>
<h5 id="I-O口原理"><a href="#I-O口原理" class="headerlink" title="I/O口原理"></a>I/O口原理</h5><p>C51的I/O口是<strong>“弱上拉，强下拉”</strong>模式</p>
<img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/capture-2023-09-01-23-08-19.jpg" class="" title="capture-2023-09-01-23-08-19">



<p><strong>手绘简图介绍：</strong></p>
<img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/capture-2023-09-01-23-08-35.jpg" class="" title="capture-2023-09-01-23-08-35">











<h4 id="2-扫描"><a href="#2-扫描" class="headerlink" title="(2) 扫描"></a>(2) 扫描</h4><img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/capture-2023-08-30-16-36-22.jpg" class="" title="capture-2023-08-30-16-36-22">

<p>数码管快速扫描，但是会占用CPU的时间</p>
<table>
<thead>
<tr>
<th>显示器/手机屏幕：（利用矩阵的方式）对横竖交错的像素点进行扫描</th>
</tr>
</thead>
</table>
<h4 id="3-MatrixKey代码实现"><a href="#3-MatrixKey代码实现" class="headerlink" title="(3) MatrixKey代码实现"></a>(3) MatrixKey代码实现</h4><div class="highlight-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;REGX52.H&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">"Delay.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> <span class="title function_">MatrixKey</span><span class="params">()</span></span><br><span class="line">{</span><br><span class="line">	<span class="type">unsigned</span> <span class="type">char</span> KeNumber=<span class="number">0</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 第一列置“0”</span></span><br><span class="line">	P1=<span class="number">0xFF</span>;</span><br><span class="line">	P1_3=<span class="number">0</span>;</span><br><span class="line">	<span class="comment">//s1的检测</span></span><br><span class="line">    <span class="keyword">if</span>(P1_7==<span class="number">0</span>)  <span class="comment">//判断s1是否按下</span></span><br><span class="line">	{</span><br><span class="line">		Delay(<span class="number">20</span>);</span><br><span class="line">		<span class="keyword">while</span>(P1_7==<span class="number">0</span>)  <span class="comment">//消抖，判断s1是否抬起   为“1”时才跳出死循环</span></span><br><span class="line">		{</span><br><span class="line">		}</span><br><span class="line">		Delay(<span class="number">20</span>);</span><br><span class="line">		KeyNumber=<span class="number">1</span>;</span><br><span class="line">	}</span><br><span class="line">	<span class="keyword">return</span> KeyNumber;</span><br><span class="line">}</span><br></pre></td></tr></table></figure></div>





<div class="highlight-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;REGX52.H&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">"Delay.h"</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">"LCD1602.h"</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">"MatrixKey.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * @brief 矩阵键盘读取按键键码</span></span><br><span class="line"><span class="comment">  * @param 无</span></span><br><span class="line"><span class="comment">  * @retval KeyNumber 按下按键的键码值</span></span><br><span class="line"><span class="comment">	         如果按键按下不放，程序会停留在此函数，松手的一瞬间，返回按键键码，没有按键按下时，返回0</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> KeyNumber;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">{</span><br><span class="line">	LCD_Init();</span><br><span class="line">	LCD_ShowString(<span class="number">1</span>,<span class="number">1</span>,<span class="string">"Hello ZZH"</span>);</span><br><span class="line">	<span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">	{</span><br><span class="line">		KeyNumber=MatrixKey();</span><br><span class="line">		<span class="keyword">if</span>(KeyNumber)</span><br><span class="line">		{</span><br><span class="line">			LCD_ShowNum(<span class="number">2</span>,<span class="number">1</span>,KeyNumber,<span class="number">2</span>);</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>



















<h3 id="2-矩阵键盘密码锁"><a href="#2-矩阵键盘密码锁" class="headerlink" title="2. 矩阵键盘密码锁"></a>2. 矩阵键盘密码锁</h3><div class="highlight-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">{</span><br><span class="line">	LCD_Init();</span><br><span class="line">	LCD_ShowString(<span class="number">1</span>,<span class="number">1</span>,<span class="string">"Password:"</span>);</span><br><span class="line">	<span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">	{</span><br><span class="line">		KeyNumber=MatrixKey();</span><br><span class="line">		<span class="keyword">if</span>(KeyNumber)</span><br><span class="line">		{</span><br><span class="line">			<span class="keyword">if</span>(KeyNumber&lt;=<span class="number">10</span>)  <span class="comment">//如果按键S1~S10按键按下，输入密码</span></span><br><span class="line">			{</span><br><span class="line">				Password*=<span class="number">10</span>;            <span class="comment">//密码左移一位</span></span><br><span class="line">				Password+=KeyNumber%<span class="number">10</span>;  <span class="comment">//对10取余，目的是使10被定义为0  获取一位密码</span></span><br><span class="line">			}</span><br><span class="line">			LCD_ShowNum(<span class="number">2</span>,<span class="number">1</span>,Password,<span class="number">4</span>);</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// 第一位 0001 乘10      0010  实现左移</span></span><br></pre></td></tr></table></figure></div>





<p>简易的密码锁代码L:</p>
<div class="highlight-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;REGX52.H&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">"Delay.h"</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">"LCD1602.h"</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">"MatrixKey.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> KeyNumber;</span><br><span class="line"><span class="type">unsigned</span> <span class="type">int</span> Password,Count;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">{</span><br><span class="line">	LCD_Init();</span><br><span class="line">	LCD_ShowString(<span class="number">1</span>,<span class="number">1</span>,<span class="string">"Password:"</span>);</span><br><span class="line">	<span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">	{</span><br><span class="line">		KeyNumber=MatrixKey();</span><br><span class="line">		<span class="keyword">if</span>(KeyNumber)</span><br><span class="line">		{</span><br><span class="line">			<span class="keyword">if</span>(KeyNumber&lt;=<span class="number">10</span>&amp;&amp;Count&lt;<span class="number">4</span>)  <span class="comment">//如果按键S1~S10按键按下，输入密码 控制密码为4位</span></span><br><span class="line">			{</span><br><span class="line">				Password*=<span class="number">10</span>;            <span class="comment">//密码左移一位</span></span><br><span class="line">				Password+=KeyNumber%<span class="number">10</span>;  <span class="comment">//对10取余，目的是使10被定义为0  获取一位密码</span></span><br><span class="line">				Count++;  <span class="comment">//计次加一</span></span><br><span class="line">			}</span><br><span class="line">			LCD_ShowNum(<span class="number">2</span>,<span class="number">1</span>,Password,<span class="number">4</span>);   <span class="comment">//更新显示</span></span><br><span class="line">			</span><br><span class="line">		  <span class="keyword">if</span>(KeyNumber==<span class="number">11</span>)  <span class="comment">//如果s11按下，确认密码</span></span><br><span class="line">		  {</span><br><span class="line">				<span class="keyword">if</span>(Password==<span class="number">521</span>)</span><br><span class="line">				{</span><br><span class="line">					LCD_ShowString(<span class="number">1</span>,<span class="number">14</span>,<span class="string">"OK "</span>);</span><br><span class="line">					<span class="comment">//密码和计次清0</span></span><br><span class="line">					</span><br><span class="line">				}</span><br><span class="line">				<span class="keyword">else</span>{LCD_ShowString(<span class="number">1</span>,<span class="number">14</span>,<span class="string">"ERR"</span>);}</span><br><span class="line">				Password=<span class="number">0</span>;</span><br><span class="line">				Count=<span class="number">0</span>;</span><br><span class="line">				LCD_ShowNum(<span class="number">2</span>,<span class="number">1</span>,Password,<span class="number">4</span>);   <span class="comment">//更新显示</span></span><br><span class="line">		  }</span><br><span class="line">			</span><br><span class="line">			<span class="comment">//按下取消</span></span><br><span class="line">			<span class="keyword">if</span>(KeyNumber==<span class="number">12</span>)</span><br><span class="line">			{</span><br><span class="line">				Password=<span class="number">0</span>;</span><br><span class="line">				Count=<span class="number">0</span>;</span><br><span class="line">				LCD_ShowNum(<span class="number">2</span>,<span class="number">1</span>,Password,<span class="number">4</span>);   <span class="comment">//更新显示</span></span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">		</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>





















<h2 id="六、-定时器"><a href="#六、-定时器" class="headerlink" title="六、 定时器"></a>六、 定时器</h2><h3 id="1-定时器"><a href="#1-定时器" class="headerlink" title="1. 定时器"></a>1. 定时器</h3><h4 id="1-简介"><a href="#1-简介" class="headerlink" title="(1)简介"></a>(1)简介</h4><img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/capture-2023-09-09-12-11-18.jpg" class="" title="capture-2023-09-09-12-11-18">









<h4 id="2-工作原理及模块"><a href="#2-工作原理及模块" class="headerlink" title="(2)工作原理及模块"></a>(2)工作原理及模块</h4><img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/capture-2023-09-03-15-27-31.jpg" class="" title="capture-2023-09-03-15-27-31">





<h5 id="工作模式"><a href="#工作模式" class="headerlink" title="工作模式"></a>工作模式</h5><img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/capture-2023-09-03-15-41-57.jpg" class="" title="capture-2023-09-03-15-41-57">









<h5 id="工作模块"><a href="#工作模块" class="headerlink" title="工作模块"></a>工作模块</h5><p><strong>时钟</strong></p>
<img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/capture-2023-09-09-12-18-12.jpg" class="" title="capture-2023-09-09-12-18-12">





<p><strong>计数系统和中断系统</strong></p>
<img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/capture-2023-09-09-12-18-21.jpg" class="" title="capture-2023-09-09-12-18-21">



<p><strong>整体</strong></p>
<img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/capture-2023-09-09-12-18-55.jpg" class="" title="capture-2023-09-09-12-18-55">









<h5 id="定时器时钟"><a href="#定时器时钟" class="headerlink" title="定时器时钟"></a>定时器时钟</h5><img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/capture-2023-09-09-12-19-14.jpg" class="" title="capture-2023-09-09-12-19-14">

<img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/capture-2023-09-09-12-19-27.jpg" class="" title="capture-2023-09-09-12-19-27">

















<p>定时器0的代码：</p>
<img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/image-20230906193453149.png" class="" title="image-20230906193453149">





<div class="highlight-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">Timer0Init</span><span class="params">(<span class="type">void</span>)</span>		<span class="comment">//1毫秒@12.000MHz</span></span><br><span class="line">{</span><br><span class="line">	AUXR &amp;= <span class="number">0xF0</span>;		<span class="comment">//定时器时钟1T模式</span></span><br><span class="line">	TMOD |= <span class="number">0x01</span>;		<span class="comment">//设置定时器模式</span></span><br><span class="line">	TL0 = <span class="number">0x18</span>;		<span class="comment">//设置定时初值</span></span><br><span class="line">	TH0 = <span class="number">0xFC</span>;		<span class="comment">//设置定时初值</span></span><br><span class="line">	TF0 = <span class="number">0</span>;		<span class="comment">//清除TF0标志</span></span><br><span class="line">	TR0 = <span class="number">1</span>;		<span class="comment">//定时器0开始计时</span></span><br><span class="line">	ET0=<span class="number">1</span>;</span><br><span class="line">	EA=<span class="number">1</span>;</span><br><span class="line">	PT0=<span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>











<h5 id="中断系统"><a href="#中断系统" class="headerlink" title="中断系统"></a>中断系统</h5><p>流程图如下：</p>
<img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/capture-2023-09-03-20-28-19.jpg" class="" title="capture-2023-09-03-20-28-19">

<p>单片机中的中断资源</p>






<img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/capture-2023-09-04-10-47-41.jpg" class="" title="capture-2023-09-04-10-47-41">











<hr>
<p><strong>注意：</strong></p>
<p>1.中断函数一般都比较“短”，执行的都是一些简单的自增或是赋值操作，因为时间较长的话会影响main函数，即<strong>不分主次</strong></p>
<p>2.中断函数不能有形参和返回值</p>
<div class="highlight-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//中断子程序，加上“interrupt+中断号” 普通子函数就变成了终端服务子函数</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">Timer0_Routine</span><span class="params">()</span> interrupt 1</span><br><span class="line">{</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></table></figure></div>















<h3 id="2-按键控制LED流水灯模式-定时器时钟"><a href="#2-按键控制LED流水灯模式-定时器时钟" class="headerlink" title="2. 按键控制LED流水灯模式&定时器时钟"></a>2. 按键控制LED流水灯模式&amp;定时器时钟</h3><h4 id="按键控制LED流水灯模式"><a href="#按键控制LED流水灯模式" class="headerlink" title="按键控制LED流水灯模式"></a>按键控制LED流水灯模式</h4><div class="highlight-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;REGX52.H&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">"Timer0.h"</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">"Key.h"</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;INTRINS.H&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> KeyNum,LEDMode;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">{</span><br><span class="line">	P2=<span class="number">0xFE</span>;  <span class="comment">//给初值，最低位给0，点亮最低位LED</span></span><br><span class="line">	Timer0Init();</span><br><span class="line">	<span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">	{</span><br><span class="line">		KeyNum=Key();		<span class="comment">//获取独立按键键码</span></span><br><span class="line">		<span class="keyword">if</span>(KeyNum)			<span class="comment">//如果按键按下</span></span><br><span class="line">		{</span><br><span class="line">			<span class="keyword">if</span>(KeyNum==<span class="number">1</span>)	<span class="comment">//如果K1按键按下</span></span><br><span class="line">			{</span><br><span class="line">				LEDMode++;	<span class="comment">//模式切换，进行0，1循环</span></span><br><span class="line">				<span class="keyword">if</span>(LEDMode&gt;=<span class="number">2</span>)LEDMode=<span class="number">0</span>;</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">Timer0_Routine</span><span class="params">()</span> interrupt 1</span><br><span class="line">{</span><br><span class="line">	<span class="type">static</span> <span class="type">unsigned</span> <span class="type">int</span> T0Count;</span><br><span class="line">	TL0 = <span class="number">0x18</span>;		<span class="comment">//设置定时初值，清空计时器</span></span><br><span class="line">	TH0 = <span class="number">0xFC</span>;		<span class="comment">//设置定时初值</span></span><br><span class="line">	T0Count++;		<span class="comment">//T0Count计次，对中断频率进行分频</span></span><br><span class="line">	<span class="keyword">if</span>(T0Count&gt;=<span class="number">500</span>)<span class="comment">//分频500次，500ms</span></span><br><span class="line">	{</span><br><span class="line">		T0Count=<span class="number">0</span>;</span><br><span class="line">		<span class="keyword">if</span>(LEDMode==<span class="number">0</span>)			<span class="comment">//模式判断</span></span><br><span class="line">			P2=_crol_(P2,<span class="number">1</span>);	<span class="comment">//LED输出   crol--循环左移   cror--循环右移         </span></span><br><span class="line">		<span class="keyword">if</span>(LEDMode==<span class="number">1</span>)</span><br><span class="line">			P2=_cror_(P2,<span class="number">1</span>);</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></table></figure></div>

<p>注意</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">_crol_( , )  </span><br><span class="line">这两个函数均为循环移位函数，可循环（左/右）移动二进制位 0x01 》0x02》0x04   若移到最高位则循环</span><br></pre></td></tr></table></figure></div>













<h4 id="定时器时钟代码实现"><a href="#定时器时钟代码实现" class="headerlink" title="定时器时钟代码实现"></a>定时器时钟代码实现</h4><div class="highlight-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;REGX52.H&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">"Delay.h"</span> </span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">"LCD1602.h"</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">"Timer0.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> Sec=<span class="number">58</span>,Min=<span class="number">56</span>,Hour=<span class="number">22</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">{</span><br><span class="line">	LCD_Init();</span><br><span class="line">	Timer0Init();</span><br><span class="line">	LCD_ShowString(<span class="number">1</span>,<span class="number">1</span>,<span class="string">"Clock:"</span>);</span><br><span class="line">	LCD_ShowString(<span class="number">2</span>,<span class="number">1</span>,<span class="string">"  :  :"</span>);</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">	{</span><br><span class="line">		LCD_ShowNum(<span class="number">2</span>,<span class="number">7</span>,Sec,<span class="number">2</span>);</span><br><span class="line">		LCD_ShowNum(<span class="number">2</span>,<span class="number">4</span>,Min,<span class="number">2</span>);</span><br><span class="line">		LCD_ShowNum(<span class="number">2</span>,<span class="number">1</span>,Hour,<span class="number">2</span>);</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line"><span class="comment">//定时器中断函数模板</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">Timer0_Routine</span><span class="params">()</span> interrupt 1</span><br><span class="line">{</span><br><span class="line">	<span class="type">static</span> <span class="type">unsigned</span> <span class="type">int</span> T0Count;</span><br><span class="line">	TL0 = <span class="number">0x18</span>;		<span class="comment">//设置定时初值</span></span><br><span class="line">	TH0 = <span class="number">0xFC</span>;		<span class="comment">//设置定时初值</span></span><br><span class="line">	T0Count++;</span><br><span class="line">	<span class="keyword">if</span>(T0Count&gt;=<span class="number">1000</span>)</span><br><span class="line">	{</span><br><span class="line">		T0Count=<span class="number">0</span>;</span><br><span class="line">		Sec++;</span><br><span class="line">		<span class="keyword">if</span>(Sec&gt;=<span class="number">60</span>)</span><br><span class="line">		{</span><br><span class="line">			Sec=<span class="number">0</span>;</span><br><span class="line">			Min++;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">if</span>(Min&gt;=<span class="number">60</span>)</span><br><span class="line">		{</span><br><span class="line">			Min=<span class="number">0</span>;</span><br><span class="line">			Hour++;</span><br><span class="line">		}</span><br><span class="line">		<span class="keyword">if</span>(Hour&gt;=<span class="number">24</span>)</span><br><span class="line">		{</span><br><span class="line">			Hour=<span class="number">0</span>;</span><br><span class="line">		}</span><br><span class="line">	}</span><br><span class="line">}</span><br></pre></td></tr></table></figure></div>

























<h2 id="七、串口"><a href="#七、串口" class="headerlink" title="七、串口"></a>七、串口</h2><h3 id="1-串口通信"><a href="#1-串口通信" class="headerlink" title="1.串口通信"></a>1.串口通信</h3><h3 id="2-串口向电脑发送数据-电脑通过串口控制LED"><a href="#2-串口向电脑发送数据-电脑通过串口控制LED" class="headerlink" title="2.串口向电脑发送数据&电脑通过串口控制LED"></a>2.串口向电脑发送数据&amp;电脑通过串口控制LED</h3><h4 id="串口每隔一秒向电脑发送数据"><a href="#串口每隔一秒向电脑发送数据" class="headerlink" title="串口每隔一秒向电脑发送数据"></a>串口每隔一秒向电脑发送数据</h4><table>
<thead>
<tr>
<th>串口初始化函数模块</th>
</tr>
</thead>
</table>
<div class="highlight-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;REGX52.H&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * @brief 串口初始化</span></span><br><span class="line"><span class="comment">  * @param 无</span></span><br><span class="line"><span class="comment">  * @retval 无</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">UART_Init</span><span class="params">()</span>   <span class="comment">//4800bps@11.0592MHz</span></span><br><span class="line">{</span><br><span class="line">	SCON=<span class="number">0x40</span>;     <span class="comment">//使能波特率倍速位SMOD</span></span><br><span class="line">	PCON|=<span class="number">0x80</span>;    <span class="comment">//8位数据，可变波特率</span></span><br><span class="line">	TMOD &amp;= <span class="number">0x0F</span>;		<span class="comment">//设置定时器模式，清除定时器1模式位</span></span><br><span class="line">	TMOD |= <span class="number">0x20</span>;		<span class="comment">//设置定时器模式，设置定时器1为8位自动重装方式</span></span><br><span class="line">	TL1 = <span class="number">0xF4</span>;		  <span class="comment">//设置定时初值</span></span><br><span class="line">	TH1 = <span class="number">0xF4</span>;		  <span class="comment">//设置定时初值</span></span><br><span class="line">	ET1= <span class="number">0</span>;		    <span class="comment">//禁止定时器1中断</span></span><br><span class="line">	TR1=<span class="number">1</span>;        <span class="comment">//启动定时器1 </span></span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * @brief 串口发送一个字节数据</span></span><br><span class="line"><span class="comment">  * @param Byte 要发送的一个字节数据</span></span><br><span class="line"><span class="comment">  * @retval 无</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">UART_SendByte</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> Byte)</span></span><br><span class="line">{</span><br><span class="line">	SBUF=Byte;  <span class="comment">//只需要将数据写入SBUF，她就会自动发送</span></span><br><span class="line">	<span class="comment">//检测是否完成</span></span><br><span class="line">	<span class="keyword">while</span>(TI==<span class="number">0</span>);</span><br><span class="line">	TI=<span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>





<p><strong>主函数：</strong></p>
<div class="highlight-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;REGX52.H&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">"Delay.h"</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">"UART.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> Sec;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">{</span><br><span class="line">	UART_Init();  <span class="comment">//循环之前进行初始化</span></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">	{</span><br><span class="line">		UART_SendByte(Sec);</span><br><span class="line">		Sec++;</span><br><span class="line">		Delay(<span class="number">1000</span>);</span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></table></figure></div>

















<h4 id="电脑通过串口控制LED"><a href="#电脑通过串口控制LED" class="headerlink" title="电脑通过串口控制LED"></a>电脑通过串口控制LED</h4><div class="highlight-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;REGX52.H&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">"Delay.h"</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">"UART.h"</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">{</span><br><span class="line">	UART_Init();  <span class="comment">//循环之前进行初始化</span></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">	{</span><br><span class="line"></span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">UART_Routine</span><span class="params">()</span> interrupt 4</span><br><span class="line">{</span><br><span class="line">	<span class="comment">//判断是否是“读SBUF”，即接受中断   因为发送也会触发中断，为了区分开发送与接受</span></span><br><span class="line">	<span class="keyword">if</span>(RI==<span class="number">1</span>)</span><br><span class="line">	{</span><br><span class="line">		P2=~SBUF;</span><br><span class="line">		UART_SendByte(SBUF);</span><br><span class="line">		RI=<span class="number">0</span>; <span class="comment">//软件检测1后清零</span></span><br><span class="line">	}</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></table></figure></div>



































<h2 id="八、LED点阵屏"><a href="#八、LED点阵屏" class="headerlink" title="八、LED点阵屏"></a>八、LED点阵屏</h2><p><strong>点阵屏显示笑脸：</strong></p>
<div class="highlight-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;REGX52.H&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">"Delay.h"</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">sbit RCK=P3^<span class="number">5</span>;  <span class="comment">//RCLK</span></span><br><span class="line">sbit SCK=P3^<span class="number">6</span>;  <span class="comment">//SRCLK</span></span><br><span class="line">sbit SER=P3^<span class="number">4</span>;  <span class="comment">//SER</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MATRIX_LED_PORT  P0     <span class="comment">//定义P0口，因为它是一个寄存器（不能进行sbit声明）便于后续统一操作(只需修改串口，如P0)</span></span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * @brief  74HC595写入一个字节</span></span><br><span class="line"><span class="comment">  * @param  要写入的一个字节</span></span><br><span class="line"><span class="comment">  * @retval 无</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//将参数写入8个引脚，给其赋值</span></span><br><span class="line"><span class="type">void</span> _74HC595_WriteByte(<span class="type">unsigned</span> <span class="type">char</span> Byte)</span><br><span class="line">{</span><br><span class="line">	<span class="type">unsigned</span> <span class="type">char</span> i;</span><br><span class="line">	<span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">8</span>;i++)</span><br><span class="line">	{</span><br><span class="line">		SER=Byte&amp;(<span class="number">0x80</span>&gt;&gt;i);  <span class="comment">//最高位为1时赋值为0x80......</span></span><br><span class="line">		SCK=<span class="number">1</span>;    <span class="comment">//给高电平上推，上升沿移位</span></span><br><span class="line">		SCK=<span class="number">0</span>;  <span class="comment">//清零</span></span><br><span class="line">	}</span><br><span class="line">	RCK=<span class="number">1</span>;  <span class="comment">//8位数据移位</span></span><br><span class="line">	RCK=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * @brief   LED点阵屏显示一列</span></span><br><span class="line"><span class="comment">  * @param   Column 要选择的列，范围：0~7，0在最左边</span></span><br><span class="line"><span class="comment">* @retval  Data 选择的列所显示的数据，高位在上，1为亮，0为灭</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">MatrixLED_ShowColumn</span><span class="params">(<span class="type">unsigned</span> <span class="type">char</span> Column,Date)</span></span><br><span class="line">{</span><br><span class="line">	_74HC595_WriteByte(Date);</span><br><span class="line">	MATRIX_LED_PORT=~(<span class="number">0x80</span>&gt;&gt;Column); <span class="comment">//取反，保持0亮，1灭</span></span><br><span class="line">	Delay(<span class="number">1</span>);</span><br><span class="line">	MATRIX_LED_PORT=<span class="number">0xFF</span>; <span class="comment">//位选清零，防止串位</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">{</span><br><span class="line">	SCK=<span class="number">0</span>;</span><br><span class="line">	RCK=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">	{</span><br><span class="line">		MatrixLED_ShowColumn(<span class="number">0</span>,<span class="number">0x3C</span>);</span><br><span class="line">		MatrixLED_ShowColumn(<span class="number">1</span>,<span class="number">0x42</span>);</span><br><span class="line">		MatrixLED_ShowColumn(<span class="number">2</span>,<span class="number">0xA9</span>);</span><br><span class="line">		MatrixLED_ShowColumn(<span class="number">3</span>,<span class="number">0x85</span>);</span><br><span class="line">		MatrixLED_ShowColumn(<span class="number">4</span>,<span class="number">0x85</span>);</span><br><span class="line">		MatrixLED_ShowColumn(<span class="number">5</span>,<span class="number">0xA9</span>);</span><br><span class="line">		MatrixLED_ShowColumn(<span class="number">6</span>,<span class="number">0x42</span>);</span><br><span class="line">		MatrixLED_ShowColumn(<span class="number">7</span>,<span class="number">0x3C</span>);</span><br><span class="line">	</span><br><span class="line">	}</span><br><span class="line">		</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></table></figure></div>















<img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/image-20230924140145902.png" class="" title="image-20230924140145902">

<p><strong>使用文字取模软件来读取点阵数据</strong></p>
<p>横向取模，高位在上（不用选取字节倒序）</p>
<img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/image-20230924140404107.png" class="" title="image-20230924140404107">

<p>C51自动生成</p>
<img lazyload="" src="/images/loading.svg" data-src="/2023/07/15/MCU-Study/image-20230924182658752.png" class="" title="image-20230924182658752">









<p><strong>动态动画显示：</strong></p>
<div class="highlight-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;REGX52.H&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">"Delay.h"</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">"MatrixLED.h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// unsigned char code Animation   这里加上code后会把数组存储在Flash中，内存更大，但是，不可写入，只能读取（原来存储在RAM中，有溢出的风险）</span></span><br><span class="line"><span class="type">unsigned</span> <span class="type">char</span> Animation[]={</span><br><span class="line"><span class="number">0x00</span>,<span class="number">0x00</span>,<span class="number">0x00</span>,<span class="number">0x00</span>,<span class="number">0x00</span>,<span class="number">0x00</span>,<span class="number">0x00</span>,<span class="number">0x00</span>,</span><br><span class="line"><span class="number">0xFF</span>,<span class="number">0x18</span>,<span class="number">0x18</span>,<span class="number">0x18</span>,<span class="number">0xFF</span>,<span class="number">0x00</span>,<span class="number">0x0E</span>,<span class="number">0x15</span>,</span><br><span class="line"><span class="number">0x15</span>,<span class="number">0x15</span>,<span class="number">0x09</span>,<span class="number">0x00</span>,<span class="number">0x7E</span>,<span class="number">0x01</span>,<span class="number">0x02</span>,<span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x7E</span>,<span class="number">0x01</span>,<span class="number">0x02</span>,<span class="number">0x00</span>,<span class="number">0x0E</span>,<span class="number">0x11</span>,<span class="number">0x11</span>,<span class="number">0x0E</span>,</span><br><span class="line"><span class="number">0x00</span>,<span class="number">0x7D</span>,<span class="number">0x00</span>,<span class="number">0x00</span>,<span class="number">0x00</span>,<span class="number">0x00</span>,<span class="number">0x00</span>,<span class="number">0x00</span>,</span><br><span class="line"><span class="number">0x00</span>,<span class="number">0x00</span>,<span class="number">0x00</span>,<span class="number">0x00</span>,<span class="number">0x00</span>,<span class="number">0x00</span>,<span class="number">0x00</span>,<span class="number">0x00</span>,</span><br><span class="line">};  </span><br><span class="line"><span class="comment">//存放动画的数据，逐帧偏移即可实现动态效果</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">{</span><br><span class="line">	<span class="type">unsigned</span> <span class="type">char</span> i,Offset,Count=<span class="number">0</span>;</span><br><span class="line">	MatrixLED_Init();</span><br><span class="line">	<span class="keyword">while</span>(<span class="number">1</span>)</span><br><span class="line">	{</span><br><span class="line">		<span class="comment">//显示静态图像</span></span><br><span class="line">		<span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;<span class="number">8</span>;i++)</span><br><span class="line">		{</span><br><span class="line">			MatrixLED_ShowColumn(i,Animation[i+Offset]);</span><br><span class="line">		}</span><br><span class="line">		Count++;</span><br><span class="line">        <span class="comment">//延时</span></span><br><span class="line">		<span class="keyword">if</span>(Count&gt;<span class="number">10</span>)</span><br><span class="line">		{</span><br><span class="line">			Count=<span class="number">0</span>;</span><br><span class="line">			Offset++; <span class="comment">//逐帧移动</span></span><br><span class="line">			<span class="keyword">if</span>(Offset&gt;<span class="number">40</span>)</span><br><span class="line">			{</span><br><span class="line">				Offset=<span class="number">0</span>;</span><br><span class="line">			}</span><br><span class="line">		}</span><br><span class="line">	</span><br><span class="line">	}</span><br><span class="line">		</span><br><span class="line">}</span><br></pre></td></tr></table></figure></div>























<h2 id="九、DS1302实时时钟"><a href="#九、DS1302实时时钟" class="headerlink" title="九、DS1302实时时钟"></a>九、DS1302实时时钟</h2><div class="highlight-container" data-rel="C"><figure class="iseeu highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">111</span></span><br></pre></td></tr></table></figure></div>








































































































































            </div>

            
                <div class="post-copyright-info">
                    <div class="article-copyright-info-container">
    <ul>
        <li><strong>Title:</strong> MCU-Study</li>
        <li><strong>Author:</strong> jrl</li>
        <li><strong>Created at:</strong> 2023-07-15 21:33:22</li>
        
            <li>
                <strong>Updated at:</strong> 2023-10-03 15:45:47
            </li>
        
        <li>
            <strong>Link:</strong> https://jrl777.github.io/2023/07/15/MCU-Study/
        </li>
        <li>
            <strong>License:</strong> This work is licensed under <a class="license" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">CC BY-NC-SA 4.0</a>.
        </li>
    </ul>
</div>

                </div>
            

            
                <ul class="post-tags-box">
                    
                        <li class="tag-item">
                            <a href="/tags/MCU/">#MCU</a>&nbsp;
                        </li>
                    
                </ul>
            

            

            
                <div class="article-nav">
                    
                        <div class="article-prev">
                            <a class="prev"
                            rel="prev"
                            href="/2023/08/07/Coppersmith-Study/"
                            >
                                <span class="left arrow-icon flex-center">
                                    <i class="fa-solid fa-chevron-left"></i>
                                </span>
                                <span class="title flex-center">
                                    <span class="post-nav-title-item">Coppersmith-Study</span>
                                    <span class="post-nav-item">Prev posts</span>
                                </span>
                            </a>
                        </div>
                    
                    
                        <div class="article-next">
                            <a class="next"
                            rel="next"
                            href="/2023/07/08/Theorem/"
                            >
                                <span class="title flex-center">
                                    <span class="post-nav-title-item">Theorem</span>
                                    <span class="post-nav-item">Next posts</span>
                                </span>
                                <span class="right arrow-icon flex-center">
                                    <i class="fa-solid fa-chevron-right"></i>
                                </span>
                            </a>
                        </div>
                    
                </div>
            


            
                <div class="comment-container">
                    <div class="comments-container">
    <div id="comment-anchor"></div>
    <div class="comment-area-title">
        <i class="fa-solid fa-comments"></i>&nbsp;Comments
    </div>
    

        
            
 
    <div id="waline"></div>
    <script type="module"  data-pjax>
        import { init } from 'https://evan.beee.top/js/waline.mjs';

        function loadWaline() {
            init({
                el: '#waline',
                serverURL: 'https://comment-mtuzebtyq-jrl777.vercel.app/',
                lang: 'zh-CN',
                dark: 'body[class~="dark-mode"]',
                requiredMeta: ['nick','mail'], // cannot customize by theme config, change it yourself
            });
        }

        if ('true') {
            const loadWalineTimeout = setTimeout(() => {
                loadWaline();
                clearTimeout(loadWalineTimeout);
            }, 1000);
        } else {
            window.addEventListener('DOMContentLoaded', loadWaline);
        }
        
    </script>



        
    
</div>

                </div>
            
        </div>

        
            <div class="toc-content-container">
                <div class="post-toc-wrap">
    <div class="post-toc">
        <div class="toc-title">On this page</div>
        <div class="page-title">MCU-Study</div>
        <ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Part1%E2%80%93%E5%88%9D%E8%AF%86MCU"><span class="nav-text">Part1–初识MCU</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%80%E3%80%81Preparation"><span class="nav-text">一、Preparation</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-Two-applications"><span class="nav-text">1. Two applications</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%8C%E3%80%81About-MCU"><span class="nav-text">二、About  MCU</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-Brief-introduction"><span class="nav-text">1. Brief introduction</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-Application-field"><span class="nav-text">2. Application field</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-Naming-rules"><span class="nav-text">3. Naming rules</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-Structure"><span class="nav-text">4. Structure</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Part2%E2%80%93%E7%BC%96%E5%86%99MCU"><span class="nav-text">Part2–编写MCU</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%80%E3%80%81Light-up-LED"><span class="nav-text">一、Light up LED</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E7%82%B9%E4%BA%AE%E4%B8%80%E4%B8%AALED"><span class="nav-text">1. 点亮一个LED</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-LED%E9%97%AA%E7%83%81"><span class="nav-text">2. LED闪烁</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-LED%E6%B5%81%E6%B0%B4%E7%81%AF"><span class="nav-text">3. LED流水灯</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%8C%E3%80%81Individual-key"><span class="nav-text">二、Individual key</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E7%8B%AC%E7%AB%8B%E6%8C%89%E9%94%AE%E6%8E%A7%E5%88%B6LED%E4%BA%AE%E7%81%AD"><span class="nav-text">1. 独立按键控制LED亮灭</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E7%8B%AC%E7%AB%8B%E6%8C%89%E9%94%AE%E6%8E%A7%E5%88%B6LED%E7%8A%B6%E6%80%81"><span class="nav-text">2. 独立按键控制LED状态</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E7%8B%AC%E7%AB%8B%E6%8C%89%E9%94%AE%E6%8E%A7%E5%88%B6LED%E6%98%BE%E7%A4%BA%E4%BA%8C%E8%BF%9B%E5%88%B6"><span class="nav-text">3. 独立按键控制LED显示二进制</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E7%8B%AC%E7%AB%8B%E6%8C%89%E9%94%AE%E6%8E%A7%E5%88%B6LED%E7%A7%BB%E4%BD%8D"><span class="nav-text">4. 独立按键控制LED移位</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%89%E3%80%81Static-digitron-display"><span class="nav-text">三、Static digitron display</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E9%9D%99%E6%80%81%E6%95%B0%E7%A0%81%E7%AE%A1%E6%98%BE%E7%A4%BA"><span class="nav-text">1. 静态数码管显示</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E5%8A%A8%E6%80%81%E6%95%B0%E7%A0%81%E7%AE%A1%E6%98%BE%E7%A4%BA"><span class="nav-text">2. 动态数码管显示</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9B%9B%E3%80%81%E6%A8%A1%E5%9D%97%E5%8C%96%E7%BC%96%E7%A8%8B%E5%8F%8ALCD1602%E8%B0%83%E8%AF%95%E5%B7%A5%E5%85%B7"><span class="nav-text">四、模块化编程及LCD1602调试工具</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E6%A8%A1%E5%9D%97%E5%8C%96%E7%BC%96%E7%A8%8B"><span class="nav-text">1.模块化编程</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-LCD1602%E8%B0%83%E8%AF%95%E5%B7%A5%E5%85%B7"><span class="nav-text">2. LCD1602调试工具</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%94%E3%80%81-%E7%9F%A9%E9%98%B5%E9%94%AE%E7%9B%98"><span class="nav-text">五、 矩阵键盘</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-MatrixKey%E7%AE%80%E4%BB%8B"><span class="nav-text">1. MatrixKey简介</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E7%9F%A9%E9%98%B5%E9%94%AE%E7%9B%98%E5%AF%86%E7%A0%81%E9%94%81"><span class="nav-text">2. 矩阵键盘密码锁</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%AD%E3%80%81-%E5%AE%9A%E6%97%B6%E5%99%A8"><span class="nav-text">六、 定时器</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E5%AE%9A%E6%97%B6%E5%99%A8"><span class="nav-text">1. 定时器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E6%8C%89%E9%94%AE%E6%8E%A7%E5%88%B6LED%E6%B5%81%E6%B0%B4%E7%81%AF%E6%A8%A1%E5%BC%8F-%E5%AE%9A%E6%97%B6%E5%99%A8%E6%97%B6%E9%92%9F"><span class="nav-text">2. 按键控制LED流水灯模式&amp;定时器时钟</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%83%E3%80%81%E4%B8%B2%E5%8F%A3"><span class="nav-text">七、串口</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E4%B8%B2%E5%8F%A3%E9%80%9A%E4%BF%A1"><span class="nav-text">1.串口通信</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E4%B8%B2%E5%8F%A3%E5%90%91%E7%94%B5%E8%84%91%E5%8F%91%E9%80%81%E6%95%B0%E6%8D%AE-%E7%94%B5%E8%84%91%E9%80%9A%E8%BF%87%E4%B8%B2%E5%8F%A3%E6%8E%A7%E5%88%B6LED"><span class="nav-text">2.串口向电脑发送数据&amp;电脑通过串口控制LED</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%AB%E3%80%81LED%E7%82%B9%E9%98%B5%E5%B1%8F"><span class="nav-text">八、LED点阵屏</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B9%9D%E3%80%81DS1302%E5%AE%9E%E6%97%B6%E6%97%B6%E9%92%9F"><span class="nav-text">九、DS1302实时时钟</span></a></li></ol></li></ol>

    </div>
</div>
            </div>
        
    </div>
</div>


                

            </div>
            
            

        </div>

        <div class="main-content-footer">
            <footer class="footer">
    <div class="info-container">
        <div class="copyright-info">
            &copy;
            
              <span>2022</span>
              -
            
            2024&nbsp;&nbsp;<i class="fa-solid fa-heart fa-beat" style="--fa-animation-duration: 0.5s; color: #f54545"></i>&nbsp;&nbsp;<a href="/">jrl</a>
        </div>
        
            <script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
            <div class="website-count info-item">
                
                    <span id="busuanzi_container_site_uv" class="busuanzi_container_site_uv">
                        VISITOR COUNT&nbsp;<span id="busuanzi_value_site_uv" class="busuanzi_value_site_uv"></span>
                    </span>
                
                
                    <span id="busuanzi_container_site_pv" class="busuanzi_container_site_pv">
                        TOTAL PAGE VIEWS&nbsp;<span id="busuanzi_value_site_pv" class="busuanzi_value_site_pv"></span>
                    </span>
                
            </div>
        
        <div class="theme-info info-item">
            <span class="powered-by-container">POWERED BY <?xml version="1.0" encoding="utf-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg version="1.1" id="圖層_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="1rem" height="1rem" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve"><path fill="#0E83CD" d="M256.4,25.8l-200,115.5L56,371.5l199.6,114.7l200-115.5l0.4-230.2L256.4,25.8z M349,354.6l-18.4,10.7l-18.6-11V275H200v79.6l-18.4,10.7l-18.6-11v-197l18.5-10.6l18.5,10.8V237h112v-79.6l18.5-10.6l18.5,10.8V354.6z"/></svg><a target="_blank" href="https://hexo.io">Hexo</a></span>
                <br>
            <span class="theme-version-container">THEME&nbsp;<a class="theme-version" target="_blank" href="https://github.com/EvanNotFound/hexo-theme-redefine">Redefine v2.2.2</a>
        </div>
        
        
        
            <div>
                Blog up for <span class="odometer" id="runtime_days" ></span> days <span class="odometer" id="runtime_hours"></span> hrs <span class="odometer" id="runtime_minutes"></span> Min <span class="odometer" id="runtime_seconds"></span> Sec
            </div>
        
        
        
            <script async data-pjax>
                try {
                    function odometer_init() {
                    const elements = document.querySelectorAll('.odometer');
                    elements.forEach(el => {
                        new Odometer({
                            el,
                            format: '( ddd).dd',
                            duration: 200
                        });
                    });
                    }
                    odometer_init();
                } catch (error) {}
            </script>
        
        
        
    </div>  
</footer>
        </div>
    </div>

    
        <div class="post-tools">
            <div class="post-tools-container">
    <ul class="article-tools-list">
        <!-- TOC aside toggle -->
        
            <li class="right-bottom-tools page-aside-toggle">
                <i class="fa-regular fa-outdent"></i>
            </li>
        

        <!-- go comment -->
        
            <li class="go-comment">
                <i class="fa-regular fa-comments"></i>
            </li>
        
    </ul>
</div>

        </div>
    

    <div class="right-side-tools-container">
        <div class="side-tools-container">
    <ul class="hidden-tools-list">
        <li class="right-bottom-tools tool-font-adjust-plus flex-center">
            <i class="fa-regular fa-magnifying-glass-plus"></i>
        </li>

        <li class="right-bottom-tools tool-font-adjust-minus flex-center">
            <i class="fa-regular fa-magnifying-glass-minus"></i>
        </li>

        <li class="right-bottom-tools tool-expand-width flex-center">
            <i class="fa-regular fa-expand"></i>
        </li>

        <li class="right-bottom-tools tool-dark-light-toggle flex-center">
            <i class="fa-regular fa-moon"></i>
        </li>

        <!-- rss -->
        

        

        <li class="right-bottom-tools tool-scroll-to-bottom flex-center">
            <i class="fa-regular fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="visible-tools-list">
        <li class="right-bottom-tools toggle-tools-list flex-center">
            <i class="fa-regular fa-cog fa-spin"></i>
        </li>
        
            <li class="right-bottom-tools tool-scroll-to-top flex-center">
                <i class="arrow-up fas fa-arrow-up"></i>
                <span class="percent"></span>
            </li>
        
        
    </ul>
</div>

    </div>

    <div class="image-viewer-container">
    <img src="">
</div>


    
        <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
          <span class="search-input-field-pre">
            <i class="fa-solid fa-keyboard"></i>
          </span>
            <div class="search-input-container">
                <input autocomplete="off"
                       autocorrect="off"
                       autocapitalize="off"
                       placeholder="Search..."
                       spellcheck="false"
                       type="search"
                       class="search-input"
                >
            </div>
            <span class="popup-btn-close">
                <i class="fa-solid fa-times"></i>
            </span>
        </div>
        <div id="search-result">
            <div id="no-result">
                <i class="fa-solid fa-spinner fa-spin-pulse fa-5x fa-fw"></i>
            </div>
        </div>
    </div>
</div>

    


</main>




<script src="/js/utils.js"></script>

<script src="/js/main.js"></script>

<script src="/js/layouts/navbarShrink.js"></script>

<script src="/js/tools/scrollTopBottom.js"></script>

<script src="/js/tools/lightDarkSwitch.js"></script>



    
<script src="/js/tools/localSearch.js"></script>




    
<script src="/js/tools/codeBlock.js"></script>




    
<script src="/js/layouts/lazyload.js"></script>




    
<script src="/js/tools/runtime.js"></script>

    
<script src="/js/libs/odometer.min.js"></script>

    
<link rel="stylesheet" href="/assets/odometer-theme-minimal.css">




  
<script src="/js/libs/Typed.min.js"></script>

  
<script src="/js/plugins/typed.js"></script>







<div class="post-scripts pjax">
    
        
<script src="/js/tools/tocToggle.js"></script>

<script src="/js/libs/anime.min.js"></script>

<script src="/js/layouts/toc.js"></script>

<script src="/js/plugins/tabs.js"></script>

    
</div>


    
<script src="/js/libs/pjax.min.js"></script>

<script>
    window.addEventListener('DOMContentLoaded', () => {
        window.pjax = new Pjax({
            selectors: [
                'head title',
                '.page-container',
                '.pjax',
            ],
            history: true,
            debug: false,
            cacheBust: false,
            timeout: 0,
            analytics: false,
            currentUrlFullReload: false,
            scrollRestoration: false,
            // scrollTo: true,
        });

        document.addEventListener('pjax:send', () => {
            Global.utils.pjaxProgressBarStart();
        });

        document.addEventListener('pjax:complete', () => {
            Global.utils.pjaxProgressBarEnd();
            window.pjax.executeScripts(document.querySelectorAll('script[data-pjax], .pjax script'));
            Global.refresh();
        });
    });
</script>




</body>
</html>
